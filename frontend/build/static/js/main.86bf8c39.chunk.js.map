{"version":3,"sources":["components/Home/constants.js","components/Home/action.js","components/Navbar/constants.js","components/Navbar/actions.js","components/LeftSidePanel/constants.js","components/LeftSidePanel/action.js","components/LeftSidePanel/index.js","components/HomeCenter/action.js","components/PostModal/action.js","components/Profile/constants.js","components/Profile/action.js","components/PostModal/index.js","components/Comments/action.js","components/Comments/index.js","components/Awards/index.js","components/LoadingScreen/index.js","components/HomeCenter/index.js","components/Home/index.js","utils/common.js","utils/setAuthToken.js","components/Auth/constants.js","components/messages/constants.js","components/messages/actions.js","components/Home/reducer.js","components/Navbar/reducer.js","components/Auth/reducer.js","components/HomeCenter/reducer.js","components/LeftSidePanel/reducer.js","components/Discover/constants.js","components/Discover/reducer.js","components/ListModal/constants.js","components/ListModal/reducer.js","components/Profile/reducer.js","components/messages/reducer.js","components/Community/constants.js","components/Community/reducer.js","components/Leaderboard/constants.js","components/Leaderboard/reducer.js","store.js","components/Auth/action.js","components/MapComp/index.js","components/DonateModal/action.js","components/DonateModal/index.js","components/Navbar/index.js","components/Profile/FollowersList/index.js","components/Profile/EditProfile/index.js","components/EventModal/action.js","components/EventModal/index.js","components/Profile/ProfilePic/index.js","components/Profile/index.js","components/MapDiscover/index.js","components/Discover/action.js","components/Discover/index.js","components/Community/actions.js","components/Community/index.js","components/Leaderboard/actions.js","components/Leaderboard/index.js","components/Auth/PrivateRoute.js","components/Auth/Register.js","components/Auth/Login.js","components/Landing/index.js","components/ComingSoon/index.js","components/messages/MessageCard/index.js","components/messages/index.js","App.js","serviceWorker.js","index.js"],"names":["ACTION","getSomeData","data","dispatch","a","axios","get","type","payload","setCurrentRoute","route","readMessages","readNotifications","getNotifications","res","getLeftDetails","response","changeFilters","selectedfilters","Sider","Layout","SubMenu","Menu","LeftSidePanel","this","props","profileDetails","following","followers","achievements","donations","name","avatar","followerList","length","map","follower","onClick","to","_id","Item","key","style","paddingLeft","marginBottom","size","src","backgroundColor","marginRight","followingList","donationList","donation","console","log","title","achievement","id","width","className","overflow","height","position","left","marginTop","mode","defaultOpenKeys","borderRight","paddingTop","fontSize","marginBlock","icon","UserOutlined","Component","connect","state","LeftSidePanelReducer","bindActionCreators","getPost","posts","allcomments","avatars","changelike","value","val","post","addPost","comment","acceptdonation","addHistory","history","getProfile","addFed","rating","donationId","reviewOrg","body","getPendingDonations","getState","userId","authReducer","user","checkvisibilty","status","localeCompare","receiverId","DiscoverReducer","Donations","filter","changeTab","tab","uploadProfilePic","profilePic","followUser","unfollowUser","getFollowers","getFollowing","rejectDonation","editProfile","normFile","e","Array","isArray","fileList","PostModal","description","files","addpost","handleOk","dragger","imageUrl","image","location","author","likes","liked","noOfLikes","DateTime","moment","format","color","text","visible","maskClosable","destroyOnClose","onOk","onCancel","handleCancel","footer","form","htmlType","loading","layout","onFinish","rules","required","message","TextArea","placeholder","autoSize","minRows","maxRows","valuePropName","getValueFromEvent","noStyle","Dragger","multiple","customRequest","file","onSuccess","onError","formData","FormData","append","then","catch","err","InboxOutlined","addComment","content","Input","CommentList","comments","dataSource","header","itemLayout","renderItem","Editor","onChange","onSubmit","submitting","rows","Comments","handleSubmit","setState","setTimeout","datetime","fromNow","handleChange","target","postComments","alt","React","ownProps","HomeCenterReducer","postId","Awards","radioStyle","display","lineHeight","hideModal","okText","cancelText","currentPostid","awardType","hideModalS","Group","visiblepay","hideModalB","hideModalP","subTitle","LoadingScreen","justifyContent","alignItems","LoadingOutlined","Content","HomeCenter","loadingComments","visibleComments","profilePageLoading","visibleawards","visiblepayment","showModal","startModalComments","showModalComments","Modal","success","handleOkComments","handleCancelComments","showModalawards","hideModalawards","hideModalSawards","Liked","ids","undefined","find","likeuser","incrementLike","postList","authorId","margin","extra","actions","LikeFilled","LikeOutlined","CommentOutlined","hoverable","GiftOutlined","imagelist","imageurl","EditOutlined","info","about","help","contact","socket","Home","someStateVariable","padding","right","fontWeight","item","Meta","marginLeft","bodyStyle","bordered","BulbOutlined","split","someData","homeReducer","setAuthToken","token","defaults","headers","common","getThreads","updateThread","thread","sendMessage","threadId","startThread","receiver","initialState","action","currentRoute","unreadNotifications","unreadMessages","notifications","navReducer","reverse","unreadMessage","isEmpty","require","isAuthenticated","errors","currentfilter","p","Organisations","organisations","pickupDate","date","d","users","ListReducer","suggestedPages","address","noFed","noDonations","silverAwards","goldAwards","diamondAwards","leaderboardTop","Pending","currentTab","profileReducer","donorName","postTime","PendingDonation","donorname","Description","posttime","pending","threads","messageReducer","updatedThreads","x","Events","CommunityReducer","list","LeaderboardReducer","persistConfig","storage","rootReducer","combineReducers","persistedReducer","persistReducer","store","createStore","applyMiddleware","thunk","persistor","persistStore","startConnection","io","query","reconnection","on","notification","getSingleNotification","registerUser","userData","push","loginUser","localStorage","setItem","decoded","jwt_decode","setCurrentUser","logoutUser","removeItem","clearErrors","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","MapComp","addMarker","markers","pop","latlng","saveLatLng","initialised","leafletMap","leafletElement","searchControl","ELG","addTo","results","LayerGroup","clearLayers","longitude","coords","latitude","lat","lng","Map","center","zoom","ref","m","TileLayer","attribution","url","idx","Marker","draggable","Popup","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","addDonation","formItemLayout","labelCol","span","wrapperCol","config","DonateModal","dateString","Date","disabledDate","current","endOf","mapOpen","onFieldsChange","changedFields","allFields","donorId","expiryTime","peopleFed","coordinates","images","label","gutter","disabled","CompassOutlined","centered","closable","Header","Navbar","Search","auth","notificationType","createdAt","zIndex","theme","selectedKeys","onSelect","HeartFilled","HomeOutlined","TrophyOutlined","UsergroupDeleteOutlined","placement","trigger","dot","BellOutlined","MessageOutlined","LogoutOutlined","withRouter","FollowersList","EditProfile","initialValues","prefix","PhoneOutlined","addEvent","event","EventModal","showTime","ProfilePic","accept","listType","UploadOutlined","TabPane","Tabs","Profile","followersVisible","followingVisible","loadingAccept","visibleAccept","loadingDonation","visibleDonation","loadingEvent","visibleEvent","visibleEdit","visibleProfilePic","loadingEdit","clicked","followLoading","unfollowLoading","followListLoading","followingText","showModalEvent","handleOkEvent","handleCancelEvent","showModalAccept","handleOkAccept","handleCancelAccept","showModalDonation","currentDonationId","handleOkDonation","handleCancelDonation","handleCancelProfilePic","showModalEdit","handleOkEdit","handleCancelEdit","handleClickDiamond","handleClickGold","handleClickleaderboardTop","handleClickverifiedAccount","handleClickSilver","callback","match","params","PendingDonations","Demo","timelinepost","ClockCircleOutlined","Donation","reviewed","currentDonation","PendingDonationList","classname","CheckOutlined","CloseOutlined","values","peoplefed","href","minHeight","shape","flexDirection","userType","top","ghost","CheckCircleTwoTone","float","showZero","count","f","onMouseOver","onMouseLeave","TeamOutlined","pathname","SendOutlined","paddingBottom","onFinishFailed","errorInfo","min","max","timelinePost","MapDiscover","longitudeP","latitudeP","getOrganisation","getDonation","pendingDonation","Discover","selectedMenuItem","filters","lngp","latp","pendingDonations","pendingDonorDonation","filterDonations","sortBy","filteredDonation","DonationList","pendingDonationList","pendingDonorDonationList","OrganisationList","Organisation","onclick","defaultSelectedKeys","activeKey","onTitleClick","options","checkedValues","componentsSwitch","addpending","defaultValue","getEvent","events","Community","filterEvents","filteredEvent","isAfter","now","Event","EventList","currentEvent","EnvironmentOutlined","getList","contentStyle","textAlign","background","Leaderboard","valueF","columns","dataIndex","render","tags","tag","toUpperCase","onChangeF","modified","element","rank","leaders","autoplay","component","my","rest","Math","random","Register","openNotificationWithIcon","password","password2","certificates","nextProps","MailOutlined","Password","LockOutlined","onRemove","removedLocation","newCertificates","certificate","Login","paddingRight","Landing","ComingSoon","MessageCard","currentUser","you","sender","time","Messagepage","chatMessage","currentThread","requiredUser","hanleSearchChange","renderCards","messages","onDrop","receiverID","submitChatMessage","preventDefault","messagesEnd","scrollIntoView","behavior","currentThreadId","req","members","member","Fragment","border","cursor","class","maxWidth","overflowY","el","clear","getRootProps","getInputProps","jwtToken","currentTime","exp","window","useEffect","exact","path","Messages","Boolean","hostname","process","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.86bf8c39.chunk.js","sourcesContent":["export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n\r\n};","import { ACTION } from \"./constants\";\r\nimport axios from \"axios\";\r\n\r\nexport const getSomeData = (data) => async (dispatch) => {\r\n    await axios.get(\"/some-api-route\");\r\n    dispatch({\r\n        type: ACTION.GET_SOME_DATA,\r\n        payload: data,\r\n    });\r\n};\r\n","export const ACTION = {\r\n    SET_CURRENT_ROUTE: \"SET_CURRENT_ROUTE\",\r\n    GET_NOTIFICATIONS: \"GET_NOTIFICATIONS\",\r\n    GET_SINGLE_NOTIFICATION: \"GET_SINGLE_NOTIFICATION\",\r\n    READ_NOTIFICATIONS: \"READ_NOTIFICATIONS\",\r\n    READ_MESSAGES: \"READ_MESSAGES\",\r\n    GET_UNREAD_MESSAGE: \"GET_UNREAD_MESSAGE\"\r\n};","import { ACTION } from \"./constants\";\r\nimport axios from \"axios\";\r\nexport const setCurrentRoute = (route) => async (dispatch) => {\r\n    if (route == \"messages\") {\r\n        dispatch(readMessages())\r\n        await axios.get('/api/users/read-messages')\r\n    }\r\n\r\n    if (route == \"notifications\") {\r\n        dispatch(readNotifications())\r\n        await axios.get('/api/users/read-notifications')\r\n    }\r\n    else\r\n        dispatch({\r\n            type: ACTION.SET_CURRENT_ROUTE,\r\n            payload: route,\r\n        });\r\n};\r\n\r\nexport const getSingleNotification = (notification) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.GET_SINGLE_NOTIFICATION,\r\n        payload: notification,\r\n    })\r\n}\r\n\r\nexport const getNotifications = () => async (dispatch) => {\r\n\r\n    const res = await axios.get('/api/users/notifications');\r\n    dispatch({\r\n        type: ACTION.GET_NOTIFICATIONS,\r\n        payload: res.data,\r\n    })\r\n}\r\n\r\nexport const getUnreadMessage = () => dispatch => {\r\n    dispatch({\r\n        type: ACTION.GET_UNREAD_MESSAGE\r\n    })\r\n}\r\n\r\nexport const readNotifications = () => dispatch => {\r\n    dispatch({\r\n        type: ACTION.READ_NOTIFICATIONS\r\n    })\r\n}\r\n\r\nexport const readMessages = () => dispatch => {\r\n    dispatch({\r\n        type: ACTION.READ_MESSAGES,\r\n    })\r\n}","export const ACTION = {\r\n    CHANGE_FILTERS: 'CHANGE_FILTERS',\r\n    GET_LEFT_DETAILS: 'GET_LEFT_DETAILS'\r\n};","import { ACTION } from './constants';\r\nimport axios from \"axios\";\r\n\r\nexport const getLeftDetails = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get('/api/users/left-details')\r\n        dispatch({\r\n            type: ACTION.GET_LEFT_DETAILS,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\nexport const changeFilters = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.CHANGE_FILTERS,\r\n        selectedfilters: data,\r\n    });\r\n};\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Layout, Menu, Checkbox, Avatar, Space } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport { changeFilters, getLeftDetails } from './action'\r\n\r\n\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nclass LeftSidePanel extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getLeftDetails();\r\n    }\r\n    render() {\r\n        const { following, followers, achievements, donations, name, avatar } = this.props.profileDetails\r\n        const plainOptions = [\r\n            { label: 'Donations', value: 'Donations' },\r\n            { label: 'Events', value: 'Events' },\r\n            { label: 'Posts', value: 'Posts' },\r\n        ];\r\n        const onChange = (checkedValues) => {\r\n            this.props.changeFilters(checkedValues)\r\n        }\r\n\r\n        const followerList = followers.length ? (\r\n            followers.map(follower => {\r\n                return (\r\n                    <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${follower._id}`}>\r\n                        <Menu.Item key={follower._id} style={{ paddingLeft: \"36px\", marginBottom: \"10px\" }}>\r\n                            <Avatar size={25}\r\n                                src={follower.avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                    marginRight: \"4px\"\r\n                                }}\r\n                            //-------------Upload profile pic here---------------\r\n                            // icon={<UserOutlined />}\r\n                            />\r\n                            {follower.name}</Menu.Item>\r\n                    </Link>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key='1' > No followers yet! </Menu.Item>\r\n            )\r\n\r\n        const followingList = following.length ? (\r\n            following.map(follower => {\r\n                return (\r\n                    <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${follower._id}`}>\r\n                        <Menu.Item key={follower._id} style={{ paddingLeft: \"36px\", marginBottom: \"10px\" }}>\r\n                            <Avatar size={25}\r\n                                src={follower.avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                    marginRight: \"4px\"\r\n                                }}\r\n                            //-------------Upload profile pic here---------------\r\n                            // icon={<UserOutlined />}\r\n                            />\r\n                            {follower.name}</Menu.Item>\r\n                    </Link>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key='1' > You are not following anyone! </Menu.Item>\r\n            )\r\n\r\n        const donationList = donations?.length ? (\r\n            donations.map(donation => {\r\n                console.log('inside the donation list', donation)\r\n                return (\r\n                    <Menu.Item key={donation._id}>{donation.title}</Menu.Item>\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <Menu.Item key=\"1\"> No donations yet! </Menu.Item>\r\n            )\r\n\r\n\r\n        const achievementList = achievements?.length ? (\r\n            achievements.map(achievement => {\r\n                return (\r\n                    <Menu.Item key={achievement.id}>\r\n                        {achievement.title}</Menu.Item>\r\n                )\r\n            }))\r\n            : (\r\n                <Menu.Item key=\"1\"> No achievements yet! </Menu.Item>\r\n            )\r\n\r\n\r\n\r\n        return (\r\n\r\n            <Sider width={280} className=\"site-layout-background\"\r\n                style={{\r\n                    overflow: 'auto',\r\n                    height: '100vh',\r\n                    position: 'fixed',\r\n                    left: 0,\r\n                    marginTop: '40px',\r\n                }}\r\n            >\r\n                <Menu\r\n                    mode=\"inline\"\r\n                    defaultOpenKeys={['sub5']}\r\n                    style={{ height: '100%', borderRight: 0, paddingTop: '40px' }}\r\n                >\r\n\r\n                    <Menu.Item key=\"Sub1\" style={{ fontSize: '16px', marginBlock: '10px' }}>\r\n                        <Link to={`/profile/${this.props.profileDetails._id}`}>\r\n                        </Link>\r\n                        <Space>\r\n                            <Avatar size={36}\r\n                                src={avatar}\r\n                                style={{\r\n                                    backgroundColor: '#87d068',\r\n                                }}\r\n                                //-------------Upload profile pic here---------------\r\n                                icon={<UserOutlined />}\r\n                            />\r\n                            {name}\r\n                        </Space>\r\n                    </Menu.Item>\r\n\r\n                    <SubMenu key=\"sub2\" title=\"Followers\" style={{ fontSize: '16px' }}>\r\n                        {followerList}\r\n                    </SubMenu>\r\n\r\n                    <SubMenu key=\"sub3\" title=\"Following\" style={{ fontSize: '16px' }}>\r\n                        {followingList}\r\n                    </SubMenu>\r\n\r\n                    <SubMenu key=\"sub4\" title=\"Recent Donations\" style={{ fontSize: '16px' }}>\r\n                        {donationList}\r\n                    </SubMenu>\r\n                </Menu>\r\n            </Sider>\r\n\r\n\r\n        )\r\n    }\r\n}\r\nconst mapStatetoProps = state => {\r\n    return {\r\n        profileDetails: state.LeftSidePanelReducer.profileDetails,\r\n    };\r\n\r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n    changeFilters: bindActionCreators(changeFilters, dispatch),\r\n    getLeftDetails: bindActionCreators(getLeftDetails, dispatch),\r\n    setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(LeftSidePanel);\r\n\r\n","import axios from \"axios\"\r\n\r\nexport const getPost = () => async (dispatch) => {\r\n    const res = await axios.get('/api/posts/');\r\n    dispatch({\r\n        type:'GET_POST',\r\n        payload: res.data.posts,\r\n        allcomments: res.data.allcomments,\r\n        avatars: res.data.avatars\r\n    })\r\n}\r\nexport const changelike = (id,value) => async (dispatch) => {\r\n    console.log('this is the like thing',id,value);\r\n    const val = value? -1:1;\r\n    const res = await axios.post('/api/posts/like', {id:id,value:val});\r\n    console.log('lets see thevalue here',res.data);\r\n    dispatch({\r\n        type: 'CHANGE_LIKE',\r\n        payload: res.data.post\r\n    });\r\n};\r\n","import axios from \"axios\"\r\n\r\nexport const addPost = (post) => async (dispatch) => {\r\n    const res = await axios.post(\"/api/posts/create\", { post });\r\n    dispatch({\r\n        type: 'ADD_POST',\r\n        post: res.data.post,\r\n        comment:res.data.comment\r\n    });\r\n};\r\n","export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n    GET_SUGGESTED_PAGES: \"GET_SUGGESTED_PAGES\",\r\n    CHANGE_TAB: \"CHANGE_TAB\",\r\n    GET_PROFILE: \"GET_PROFILE\",\r\n    UPDATE_PROFILE_PIC: \"UPDATE_PROFILE_PIC\",\r\n    GET_FOLLOWERS: \"GET_FOLLOWERS\",\r\n    GET_FOLLOWING: \"GET_FOLLOWING\",\r\n    UPDATE_PROFILE: \"UPDATE_PROFILE\"\r\n};","import { ACTION } from \"./constants\";\r\nimport axios from \"axios\";\r\nexport const acceptdonation = (data) => async (dispatch) => {\r\n    await axios.post('../../api/donation/accept', { _id: data._id })\r\n    dispatch({\r\n        type: 'ACCEPT_DONATION',\r\n        payload: data\r\n    })\r\n}\r\nexport const getSomeData = (data) => async (dispatch) => {\r\n    await axios.get(\"/some-api-route\");\r\n    dispatch({\r\n        type: ACTION.GET_SOME_DATA,\r\n        payload: data,\r\n    });\r\n};\r\nexport const addHistory = (history) => async (dispatch) => {\r\n    const res = await axios.post('/api/users/addhistory', { history: history })\r\n    dispatch({\r\n        type: 'ADD_HISTORY',\r\n        payload: res.data\r\n    })\r\n}\r\nexport const getProfile = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/profile/${id}`)\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\nexport const addFed = (value, rating, donationId) => async (dispatch) => {\r\n    console.log('rating is:', rating);\r\n    console.log('donationid is:', donationId);\r\n    const res = await axios.post('/api/users/addfed', { value: value, rating: rating, donationId: donationId })\r\n    console.log('add fed data is; ', res.data);\r\n    dispatch({\r\n        type: 'ADD_FED',\r\n        payload: res.data\r\n    })\r\n}\r\nexport const reviewOrg = (id, rating) => async (dispatch) => {\r\n    console.log(rating, id);\r\n    const res = await axios.post('/api/users/review', { id: id, rating: rating });\r\n    console.log('After reviewing the Organisation', res.body);\r\n    dispatch({\r\n        type: 'REVIEW',\r\n        payload: res.data\r\n    })\r\n}\r\nexport const getSuggestedPages = () => async (dispatch) => {\r\n    const res = await axios.get(\"/api/path/to/sugPage\");\r\n    dispatch({\r\n        type: ACTION.GET_SUGGESTED_PAGES,\r\n        payload: res.data\r\n    })\r\n}\r\nexport const getPendingDonations = () => async (dispatch, getState) => {\r\n    const userId = getState().authReducer.user.userId\r\n    const checkvisibilty = (donation) => {\r\n        return (donation.status.localeCompare(\"pending\") == 0 && donation.receiverId == userId)\r\n    }\r\n    const donations = getState().DiscoverReducer.Donations.filter(checkvisibilty);\r\n    dispatch({\r\n        type: 'GET_PENDING_DONATION',\r\n        payload: donations\r\n    })\r\n}\r\nexport const changeTab = tab => (dispatch) => {\r\n\r\n    // const res = await axios.get(`/api/route/${tab}`)\r\n    //MAKE ANOTHER DISPATCH TO UPDATE STATE\r\n\r\n    dispatch({\r\n        type: ACTION.CHANGE_TAB,\r\n        payload: tab\r\n    })\r\n}\r\n\r\nexport const uploadProfilePic = (profilePic, avatar) => (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.UPDATE_PROFILE_PIC,\r\n        payload: { profilePic, avatar }\r\n    })\r\n}\r\n\r\n\r\nexport const followUser = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/follow/${id}`);\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const unfollowUser = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/unfollow/${id}`);\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const getFollowers = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/followers/${id}`)\r\n        dispatch({\r\n            type: ACTION.GET_FOLLOWERS,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const getFollowing = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get(`/api/users/following/${id}`)\r\n        dispatch({\r\n            type: ACTION.GET_FOLLOWING,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const rejectDonation = (id) => async (dispatch) => {\r\n    try {\r\n        const res = await axios.post('/api/donation/reject', { _id: id })\r\n        console.log(res.data);\r\n        dispatch({\r\n            type: 'REJECT_DONATION',\r\n            id: id\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const editProfile = (user) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/users/edit-profile', { user });\r\n        dispatch({\r\n            type: ACTION.GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport moment from 'moment';\r\nimport axios from \"axios\"\r\n\r\nimport { Form, Upload, Input, Modal, Button } from \"antd\";\r\nimport { InboxOutlined, } from \"@ant-design/icons\";\r\nimport \"./styles.css\";\r\n\r\nimport { addPost } from './action';\r\nimport { addHistory } from '../Profile/action';\r\n\r\nconst normFile = e => {\r\n  console.log(\"Upload event:\", e);\r\n\r\n  if (Array.isArray(e)) {\r\n    return e;\r\n  }\r\n\r\n  return e && e.fileList;\r\n};\r\n\r\nclass PostModal extends Component {\r\n  state = {\r\n    user: this.props.name,\r\n    description: '',\r\n    files: []\r\n  }\r\n  addpost = (e) => {\r\n    this.props.handleOk()\r\n    const { dragger } = e;\r\n    const imageUrl = dragger?.map(image => image.response.location);\r\n\r\n    const post = {\r\n      author: this.state.user,\r\n      description: e.description,\r\n      likes: [],\r\n      liked: false,\r\n      noOfLikes: 0,\r\n      DateTime: moment().format(\"HH:mm ll\"),\r\n      imageUrl\r\n    };\r\n\r\n    this.props.addPost(post);\r\n    const history = {\r\n      color: 'blue',\r\n      icon: 'dot',\r\n      text: post.description + ' ( Posted on ' + post.DateTime + ' )'\r\n    };\r\n    this.props.addHistory(history);\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Modal\r\n        visible={this.props.visible}\r\n        maskClosable={false}\r\n        destroyOnClose\r\n        title=\"Share your Thoughts\"\r\n        onOk={this.props.handleOk}\r\n        onCancel={this.props.handleCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={this.props.handleCancel}>\r\n            Return\r\n              </Button>,\r\n          <Button form=\"post-form\" key=\"submit\" type=\"primary\" htmlType=\"submit\" loading={this.props.loading}\r\n          //  onClick={this.addpost} \r\n          >\r\n            Post\r\n              </Button>,\r\n        ]}\r\n      >\r\n        <Form id=\"post-form\" name=\"validate_other\" layout={\"Vertical\"} onFinish={this.addpost} >\r\n          <Form.Item\r\n            name='description'\r\n            width={500}\r\n            rules={\r\n              [{\r\n                required: true, message: \"Please Enter Items details\"\r\n              }]\r\n            }\r\n          >\r\n            <Input.TextArea placeholder=\"Express your thoughts\"\r\n              autoSize={{ minRows: 2, maxRows: 6 }} />\r\n          </Form.Item>\r\n          <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n            <Upload.Dragger multiple={false} name=\"file\"\r\n              customRequest={async ({ file, onSuccess, onError }) => {\r\n                let formData = new FormData()\r\n                formData.append('file', file)\r\n                await axios.post('/upload/posts', formData).then(res => {\r\n                  onSuccess(res.data)\r\n                }).catch(err => { console.log(\"error in uploading\"); onError(\"Error in uploading.Try again\") })\r\n              }} >\r\n              <p className=\"ant-upload-drag-icon\">\r\n                <InboxOutlined />\r\n              </p>\r\n              <p className=\"ant-upload-text\">\r\n                Click or drag file to this area to upload\r\n                  </p>\r\n              <p className=\"ant-upload-hint\">\r\n                Support for a single or bulk upload.\r\n                  </p>\r\n            </Upload.Dragger>\r\n          </Form.Item>\r\n        </Form>\r\n\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\nconst mapStatetoProps = state => {\r\n  return {\r\n    name: state.LeftSidePanelReducer.profileDetails.name,\r\n  };\r\n\r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n  addHistory: bindActionCreators(addHistory, dispatch),\r\n  addPost: bindActionCreators(addPost, dispatch)\r\n})\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(PostModal);\r\n","import axios from 'axios';\r\nexport const addComment = (id,comment) => async (dispatch) => {\r\n    const postId = id;\r\n    await axios.post(`/api/comment/add/${id}`,{content:comment.content});\r\n\r\n     dispatch({\r\n         type: 'ADD_COMMENT',\r\n         id:id,\r\n         comment:comment\r\n     });\r\n };\r\n ","import React from 'react';\r\nimport moment from 'moment';\r\nimport { Modal, Button } from 'antd';\r\nimport { Comment, Avatar, Form, List, Input } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { addComment } from './action'\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst CommentList = ({ comments }) => (\r\n  <List\r\n    dataSource={comments}\r\n    header={`${comments.length} ${comments.length > 1 ? 'replies' : 'reply'}`}\r\n    itemLayout=\"horizontal\"\r\n    renderItem={props => <Comment {...props} />}\r\n  />\r\n);\r\n\r\nconst Editor = ({ onChange, onSubmit, submitting, value }) => (\r\n  <>\r\n    <Form.Item>\r\n      <TextArea rows={2} onChange={onChange} value={value} />\r\n    </Form.Item>\r\n    <Form.Item>\r\n      <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit} type=\"primary\">\r\n        Add Comment\r\n      </Button>\r\n    </Form.Item>\r\n  </>\r\n);\r\n\r\nclass Comments extends React.Component {\r\n  state = {\r\n    submitting: false,\r\n    value: '',\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    if (!this.state.value) {\r\n      return;\r\n    }\r\n    const value = this.state.value\r\n    this.setState({\r\n      submitting: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n\r\n      var comments = {\r\n        author: 'Arpit Bandejiya',\r\n        avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n        content: value,\r\n        datetime: moment().fromNow(),\r\n      }\r\n      this.props.addComment(this.props.id, comments)\r\n    }, 1000);\r\n\r\n    this.setState({\r\n      submitting: false,\r\n      value: '',\r\n\r\n    });\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n\r\n    if (this.props.id) {\r\n      const { submitting, value } = this.state;\r\n      const { comments } = this.props.postComments[0];\r\n      return (\r\n        <>\r\n          <Modal\r\n            visible={this.props.visible}\r\n            title=\"Comments\"\r\n            onOk={this.props.handleOk}\r\n            onCancel={this.props.handleCancel}\r\n            footer={[\r\n              <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                Return\r\n              </Button>,\r\n              <Button key=\"submit\" type=\"primary\" loading={this.props.loading} onClick={this.props.handleOk}>\r\n                DOne\r\n              </Button>,\r\n            ]}\r\n          >\r\n            {comments.length > 0 && <CommentList comments={comments} />}\r\n            <Comment\r\n              avatar={\r\n                <Avatar\r\n                  src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\r\n                  alt=\"Han Solo\"\r\n                />\r\n              }\r\n              content={\r\n                <Editor\r\n                  onChange={this.handleChange}\r\n                  onSubmit={this.handleSubmit}\r\n                  submitting={submitting}\r\n                  value={value}\r\n                />\r\n              }\r\n            />\r\n          </Modal>\r\n        </>\r\n      );\r\n    }\r\n    else\r\n      return null;\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { id } = ownProps\r\n  const allcomments = state.HomeCenterReducer.postComments;\r\n  return {\r\n    postComments: allcomments.filter((comment) => comment.postId === id)\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n  addComment: bindActionCreators(addComment, dispatch)\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Comments);","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from \"redux\";\r\nimport moment from 'moment';\r\nimport axios from \"axios\"\r\n\r\nimport { Form, Upload, Input, Radio, Modal, Button, Result, Avatar } from \"antd\";\r\nimport { InboxOutlined, } from \"@ant-design/icons\";\r\n\r\n// const normFile = e => {\r\n//   console.log(\"Upload event:\", e);\r\n\r\n//   if (Array.isArray(e)) {\r\n//     return e;\r\n//   }\r\n\r\n//   return e && e.fileList;\r\n// };\r\n\r\nclass Awards extends Component {\r\n  state = {\r\n    value: \"diamond\",\r\n    loading: false\r\n  }\r\n\r\n  //   showModalP = () => {\r\n  //     this.setState({\r\n  //         visiblepay: true\r\n  //     });\r\n  //   };\r\n\r\n  //   hideModalP = () => {\r\n  //     this.setState({\r\n  //         visiblepay: false\r\n  //     });\r\n  //   };\r\n\r\n  //   hideModalB = () => {\r\n  //     this.setState({\r\n  //         visiblepay: false,\r\n  //         visible: true\r\n  //     });\r\n  //   };\r\n\r\n\r\n  onChange = e => {\r\n    console.log('radio checked', e.target.value);\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    const radioStyle = {\r\n      display: 'block',\r\n      height: '30px',\r\n      lineHeight: '30px',\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          title={<b>Awards</b>}\r\n          visible={this.props.visible}\r\n          // onOk={async () => {\r\n          //   console.log(\"post\", this.props.currentPostid, \"value\", this.state.value)\r\n          //   await axios.post('/api/users/giveAward', {\r\n          //     postId: this.props.currentPostid,\r\n          //     awardType: this.state.value\r\n          //   })\r\n          //   this.props.hideModalS()\r\n          // }}\r\n          onCancel={this.props.hideModal}\r\n          okText=\"Payment\"\r\n          cancelText=\"Cancel\"\r\n          footer={[\r\n            <Button key=\"back\" onClick={this.props.hideModal}>\r\n              Cancel\r\n            </Button>,\r\n            <Button loading={this.state.loading} key=\"submit\" type=\"primary\" onClick={\r\n              async () => {\r\n                console.log(\"post\", this.props.currentPostid, \"value\", this.state.value)\r\n                this.setState({\r\n                  loading: true\r\n                })\r\n                console.log(\"Start loading\")\r\n                await axios.post('/api/users/giveAward', {\r\n                  postId: this.props.currentPostid,\r\n                  awardType: this.state.value\r\n                })\r\n                console.log(\"end loading\")\r\n                this.setState({\r\n                  loading: false\r\n                })\r\n                this.props.hideModalS()\r\n              }\r\n            }>\r\n              Pay Now\r\n            </Button>,\r\n          ]}\r\n        >\r\n          <div>\r\n            <b> Please select the award you want to Buy ?</b>\r\n            <br />\r\n            <Radio.Group onChange={this.onChange} value={value}>\r\n              <Radio style={radioStyle} value={\"diamond\"}>\r\n                <Avatar size=\"small\" src=\"/images/awards/diamond.jpg\" /> Diamond, Cost : 150, Will help us to feed 3 childern.\r\n        </Radio>\r\n              <Radio style={radioStyle} value=\"gold\">\r\n                <Avatar size=\"small\" src=\"/images/awards/gold.jpg\" />Gold, Cost : 100, Will help us to feed 2 childern.\r\n        </Radio>\r\n              <Radio style={radioStyle} value=\"silver\">\r\n                <Avatar size=\"small\" src=\"/images/awards/silver.jpg\" />Silver, Cost : 50, Will help us to feed 1 childern.\r\n        </Radio>\r\n            </Radio.Group>\r\n          </div>\r\n        </Modal>\r\n\r\n        <Modal\r\n          title=\"Payment\"\r\n          visible={this.props.visiblepay}\r\n          onOk={this.props.hideModalB}\r\n          onCancel={this.props.hideModalP}\r\n          okText=\"Buy Again\"\r\n          cancelText=\"Close\"\r\n        >\r\n          <Result\r\n            status=\"success\"\r\n            title=\"Successfully Purchased Award\"\r\n            subTitle=\"You can veiw awards on User's Profile\"\r\n          />\r\n        </Modal>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Awards; ","import React from 'react'\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nexport default function LoadingScreen() {\r\n    return (\r\n        <div style={{ width: \"100vw\", height: \"100vh\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", fontSize: \"50px\" }}>\r\n            <LoadingOutlined />\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport './styles.css';\r\nimport { Layout, Card, Space, Image, Avatar } from 'antd';\r\nimport { CommentOutlined, LikeFilled, LikeOutlined, GiftOutlined, ShareAltOutlined, EditOutlined } from '@ant-design/icons';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Modal } from 'antd';\r\n\r\nimport { changelike, getPost } from './action';\r\nimport { setCurrentRoute, getNotifications } from '../Navbar/actions';\r\nimport PostModal from '../PostModal';\r\nimport Comments from '../Comments';\r\nimport Awards from '../Awards';\r\nimport LoadingScreen from '../LoadingScreen';\r\n\r\nconst { Content } = Layout;\r\n\r\nclass HomeCenter extends Component {\r\n\r\n    state = {\r\n        loading: false,\r\n        visible: false,\r\n        loadingComments: false,\r\n        visibleComments: false,\r\n        currentPostid: null,\r\n        profilePageLoading: false,\r\n        visibleawards: false,\r\n        visiblepayment: false,\r\n    }\r\n    async componentDidMount() {\r\n        this.setState({\r\n            profilePageLoading: true\r\n        })\r\n        await this.props.getPost();\r\n        this.props.getNotifications();\r\n        this.setState({\r\n            profilePageLoading: false\r\n        })\r\n    }\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true\r\n        });\r\n    };\r\n    startModalComments = async (id) => {\r\n        await this.setState({\r\n            currentPostid: id\r\n        });\r\n        this.setState({\r\n            visibleComments: true\r\n        })\r\n    }\r\n    showModalComments = () => {\r\n        this.setState({\r\n            visibleComments: true\r\n        });\r\n    };\r\n\r\n    handleOk = () => {\r\n        this.setState({ loading: true });\r\n        setTimeout(() => {\r\n            this.setState({ loading: false, visible: false });\r\n        }, 500);\r\n        Modal.success({\r\n            content: \"Post Shared\"\r\n        });\r\n    };\r\n\r\n    handleOkComments = () => {\r\n        this.setState({ loadingComments: true });\r\n        setTimeout(() => {\r\n            this.setState({ loadingComments: false, visibleComments: false });\r\n        }, 100);\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.setState({ visible: false });\r\n    };\r\n\r\n    handleCancelComments = () => {\r\n        this.setState({ visibleComments: false });\r\n    };\r\n\r\n    showModalawards = async (postId) => {\r\n        await this.setState({\r\n            currentPostid: postId,\r\n        });\r\n        this.setState({\r\n            visibleawards: true,\r\n        })\r\n    };\r\n\r\n    hideModalawards = () => {\r\n        this.setState({\r\n            visibleawards: false\r\n        });\r\n    };\r\n\r\n    hideModalSawards = () => {\r\n        this.setState({\r\n            visibleawards: false,\r\n            visiblepayment: true\r\n        });\r\n    };\r\n\r\n    hideModalP = () => {\r\n        this.setState({\r\n            visiblepayment: false\r\n        });\r\n    };\r\n\r\n    hideModalB = () => {\r\n        this.setState({\r\n            visiblepayment: false,\r\n            visibleawards: true\r\n        });\r\n    };\r\n    Liked = (ids) => {\r\n        const alreadyLiked = ids.find((likeuser) => { return likeuser == this.props.user.userId });\r\n        // console.log(ids);\r\n        // console.log(alreadyLiked);\r\n\r\n        if (alreadyLiked == undefined)\r\n            return false;\r\n        else\r\n            return true;\r\n    }\r\n    incrementLike = (id, value, ids) => {\r\n        console.log(this.props.user.userId);\r\n        const liked = this.Liked(ids);\r\n        this.props.changelike(id, liked);\r\n    }\r\n    render() {\r\n\r\n        const { visible, visibleawards, loading, visiblepayment, visibleComments, loadingComments } = this.state;\r\n        const { posts } = this.props;\r\n        const imageList = (imagelist) => {\r\n            if (imagelist == undefined)\r\n                return (\r\n                    <div>No images!</div>\r\n                )\r\n            return imagelist.length ? (imagelist.map(imageurl => {\r\n                return (\r\n                    <Image\r\n                        width={100}\r\n                        height={100}\r\n                        alt=\"example\"\r\n                        src={imageurl}\r\n                    />\r\n                )\r\n            })\r\n\r\n            ) : (<div>No images!</div>)\r\n        }\r\n        const type = (liked) => {\r\n            return liked ? (<LikeFilled key=\"Like\" style={{ margin: \"8px\" }} />) : (<LikeOutlined key=\"Like\" style={{ margin: \"8px\" }} />)\r\n        }\r\n        const postList = posts.length ? (\r\n            posts.map(post => {\r\n                return (\r\n                    <Card title={<Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${post.authorId._id}`}>\r\n                        <Avatar\r\n                            src={post.authorId.avatar}\r\n                            alt=\"Han Solo\"\r\n                            style={{ margin: '8px' }}\r\n                        />\r\n                        {post.author}</Link>} extra={post.DateTime} style={{ width: 700, margin: \"8px\" }}\r\n                        actions={[\r\n                            <div onClick={(id) => this.incrementLike(post._id, post.liked, post.likes)} >{type(this.Liked(post.likes))}{post.noOfLikes}</div>,\r\n                            //<div><ShareAltOutlined key=\"share\" style={{margin:\"8px\"}}/> </div>,\r\n                            <div><CommentOutlined hoverable={true} onClick={() => this.startModalComments(post._id)} key=\"Comment\" style={{ margin: \"8px\" }} /> </div>,\r\n                            <div><GiftOutlined key=\"Award\" onClick={() => this.showModalawards(post._id)} style={{ margin: \"8px\" }} /> </div>,\r\n                        ]} >\r\n                        <p>{post.description}</p>\r\n                        <Space>\r\n                            {imageList(post.imageUrl)}\r\n                        </Space>\r\n                    </Card>\r\n\r\n                )\r\n            })\r\n\r\n        ) : (\r\n                <div> No post are here! </div>\r\n            )\r\n\r\n        return (\r\n            this.state.profilePageLoading ? <LoadingScreen /> :\r\n                <Content style={{ \"margin\": \"auto\" }}>\r\n                    <Card style={{ width: 700, margin: \"8px\" }} hoverable={true} onClick={this.showModal} >\r\n                        <p className=\"cardtext\"> <EditOutlined /> Share something with the community</p>\r\n                    </Card>\r\n                    <PostModal handleCancel={this.handleCancel} handleOk={this.handleOk} showModal={this.showModal} visible={visible} loading={loading} />\r\n                    <Comments id={this.state.currentPostid} handleCancel={this.handleCancelComments} handleOk={this.handleOkComments} showModal={this.showModalComments} visible={visibleComments} loading={loadingComments} />\r\n                    <Awards currentPostid={this.state.currentPostid} hideModal={this.hideModalawards} hideModalB={this.hideModalB} hideModalP={this.hideModalP} hideModalS={this.hideModalSawards} visible={visibleawards} visiblepay={visiblepayment} />\r\n                    {postList}\r\n                </Content>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => ({\r\n    posts: state.HomeCenterReducer.posts,\r\n    user: state.authReducer.user,\r\n\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    changelike: bindActionCreators(changelike, dispatch),\r\n    getPost: bindActionCreators(getPost, dispatch),\r\n    setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch),\r\n    getNotifications: bindActionCreators(getNotifications, dispatch),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeCenter);","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { BulbOutlined, ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { Layout, List, Avatar, Card, Space, Typography, Divider, Button, Modal } from 'antd';\r\nimport \"./styles.css\";\r\n\r\nimport { getSomeData } from './action';\r\nimport LeftSidePanel from '../LeftSidePanel';\r\nimport HomeCenter from '../HomeCenter';\r\n\r\nconst { Sider } = Layout;\r\n\r\nfunction info() {\r\n  Modal.info({\r\n    title: 'Awards',\r\n    content: (\r\n      <div>\r\n        <p>nofoodWasted awards are an innovative way to show support for your favourite users while also supporting the fight for food security!\r\n        These awards are highlighted on users profile, giving their cause legitimacy while at the same time money spent on these goes to feed someone.\r\n            </p> Join our cause, buy nofoodWasted awards now!\r\n      </div>\r\n    ),\r\n    onOk() { },\r\n  });\r\n}\r\n\r\nfunction about() {\r\n  Modal.info({\r\n    title: 'Food4all',\r\n    content: (\r\n      <div>\r\n        <p>A new community-led platform to highlight local food security programs and connect donors\r\n        to them, making the process convenient.\r\n          </p>\r\n      </div>\r\n    ),\r\n    onOk() { },\r\n  });\r\n}\r\n\r\n\r\nfunction help() {\r\n  Modal.info({\r\n    title: 'Please refer to Documentation',\r\n    onOk() { },\r\n  });\r\n}\r\n\r\nfunction contact() {\r\n  Modal.info({\r\n    title: 'Reach out to us at any of the below email address :',\r\n    content: (\r\n      <div>\r\n        <p>Dinkar     - cs18b010@iittp.ac.in</p>\r\n        <p>Arpit      - cs18b003@iittp.ac.in</p>\r\n        <p>Sudheesh    - cs18b020@iittp.ac.in</p>\r\n        <p>Shreyansh  - cs18b042@iittp.ac.in</p>\r\n      </div>\r\n    ),\r\n    onOk() { },\r\n  });\r\n}\r\n\r\nclass Home extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      someStateVariable: \"hi\"\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <LeftSidePanel />\r\n        <Layout style={{ marginTop: '64px' }}>\r\n          <HomeCenter />\r\n        </Layout>\r\n        {\r\n          //right hand side pane, needs to be made a seperate component\r\n        }\r\n        <Sider width={300} style={{ padding: \"25px\", marginTop: '48px', right: 0, position: 'fixed', height: '100vh' }}>\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            header={\r\n              <div style={{ fontWeight: \"bolder\", padding: \"5px\", fontSize: \"medium\" }}>\r\n                Saved events\r\n                            </div>\r\n            }\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <List.Item.Meta\r\n                /*\r\n                    avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                    title={<a href=\"<add event url here\">{item.title}</a>}\r\n                    description=\"brief description\"\r\n                */\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n\r\n\r\n          <div style={{ marginTop: '20px' }}>\r\n\r\n            <Card size=\"small\" style={{ width: 200, marginLeft: 25 }} bodyStyle={{ color: '#97033e', fontWeight: 'bold' }} bordered={false}\r\n              actions={[\r\n                <p onClick={info}><BulbOutlined hoverable={true} key=\"learnMoreAwards\" /> Learn more </p>,\r\n              ]}\r\n            >\r\n\r\n              <p>\r\n                <Avatar.Group>\r\n                  <Avatar size=\"small\" src=\"/images/awards/silver.jpg\" />\r\n                  <Avatar size=\"large\" src=\"/images/awards/gold.jpg\" />\r\n                  <Avatar size={64} src=\"/images/awards/diamond.jpg\" />\r\n                  <Avatar size=\"large\" src=\"/images/awards/gold.jpg\" />\r\n                  <Avatar size=\"small\" src=\"/images/awards/silver.jpg\" />\r\n                </Avatar.Group>\r\n                                NofoodWasted awards are the best way to show your appreciation for work of other users!</p>\r\n            </Card>\r\n          </div>\r\n\r\n          <div style={{ marginTop: '64px', marginLeft: 0 }}>\r\n            <Space split={<Divider type=\"vertical\" style={{ color: 'black', paddingLeft: '5px' }} />}>\r\n              <Button onClick={about} type=\"link\">About</Button>\r\n              <Button onClick={help} type=\"link\">Help</Button>\r\n              <Button onClick={contact} type=\"link\">Contact us</Button>\r\n\r\n            </Space>\r\n            {\r\n              //can add logo here\r\n            }\r\n          </div>\r\n        </Sider>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  someData: state.homeReducer.someData\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getSomeData: bindActionCreators(getSomeData, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import io from \"socket.io-client\";\r\nimport { updateThread } from \"../components/messages/actions\";\r\nimport { getSingleNotification, getUnreadMessage } from \"../components/Navbar/actions\"\r\nimport { store } from \"../store\";\r\n// let server = \"http://localhost:8000\";\r\nlet server = \"/\"\r\n\r\nlet socket;\r\n\r\n\r\n\r\nexport const startConnection = () => {\r\n\r\n    console.log(\"someone wants to start connection\", socket)\r\n\r\n    if (socket) {\r\n        console.log(\"socket already there\")\r\n        return socket;\r\n    }\r\n\r\n    const user = store.getState().authReducer.user?.userId;\r\n\r\n    socket = io(server, {\r\n        query: `user=${user}`,\r\n        reconnection: true\r\n    });\r\n    socket.on(\"output_message\", thread => {\r\n        // this.props.updateThread(thread);\r\n        store.dispatch(updateThread(thread));\r\n        store.dispatch(getUnreadMessage())\r\n        console.log(\"WOW... I got it\", thread)\r\n    })\r\n\r\n\r\n    socket.on(\"notification\", notification => {\r\n        store.dispatch(getSingleNotification(notification));\r\n        console.log(notification)\r\n    })\r\n\r\n    return socket;\r\n\r\n}\r\n\r\nexport const getSocket = () => {\r\n    return socket;\r\n}\r\n\r\n\r\n","import axios from \"axios\";\r\n\r\nconst setAuthToken = token => {\r\n    if (token) {\r\n        // Apply authorization token to every request if logged in\r\n        axios.defaults.headers.common[\"Authorization\"] = token;\r\n    } else {\r\n        // Delete auth header\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n};\r\n\r\nexport default setAuthToken;\r\n","export const ACTION = {\r\n    GET_ERRORS: \"GET_ERRORS\",\r\n    USER_LOADING: \"USER_LOADING\",\r\n    SET_CURRENT_USER: \"SET_CURRENT_USER\",\r\n    CLEAR_ERRORS: \"CLEAR_ERRORS\"\r\n};","export const GET_CHATS = 'get_chat';\r\nexport const AFTER_POST_MESSAGE = 'after_post_message';\r\n\r\nexport const ACTION = {\r\n    GET_THREADS: \"GET_THREADS\",\r\n    UPDATE_THREAD: \"UPDATE_THREAD\"\r\n}","import axios from 'axios';\r\nimport { ACTION } from './constants';\r\n\r\nexport const getThreads = () => async (dispatch) => {\r\n    try {\r\n        const res = await axios.get('/api/message/getThreads')\r\n        dispatch({\r\n            type: ACTION.GET_THREADS,\r\n            payload: res.data\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateThread = (thread) => dispatch => {\r\n    dispatch({\r\n        type: ACTION.UPDATE_THREAD,\r\n        payload: thread\r\n    })\r\n}\r\n\r\n\r\nexport const sendMessage = (threadId, body, type) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/message/send', {\r\n            threadId,\r\n            body,\r\n            type\r\n        })\r\n        dispatch({\r\n            type: ACTION.UPDATE_THREAD,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const startThread = (receiver) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/message/new-thread', {\r\n            receiver\r\n        })\r\n        dispatch({\r\n            type: ACTION.UPDATE_THREAD,\r\n            payload: res.data\r\n        })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: 'GET_ERRORS',\r\n            payload: err.response.data\r\n        })\r\n    }\r\n}","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    someData: \"initilProp\"\r\n}\r\n\r\nconst homeReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default homeReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    currentRoute: \"home\",\r\n    unreadNotifications: false,\r\n    unreadMessages: false,\r\n    notifications: [],\r\n}\r\n\r\nconst navReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.SET_CURRENT_ROUTE: {\r\n            state = { ...state, currentRoute: action.payload }\r\n            break;\r\n        }\r\n\r\n        case ACTION.GET_NOTIFICATIONS: {\r\n            state = { ...state, notifications: action.payload.notifications.reverse(), unreadNotifications: action.payload.unreadNotifications, unreadMessage: action.payload.unreadMessage }\r\n            break;\r\n        }\r\n\r\n        case ACTION.GET_SINGLE_NOTIFICATION: {\r\n            state = { ...state, notifications: [action.payload, ...state.notifications], unreadNotifications: true }\r\n            break;\r\n        }\r\n\r\n        case ACTION.READ_NOTIFICATIONS: {\r\n            state = { ...state, unreadNotifications: false }\r\n            break;\r\n        }\r\n        case ACTION.READ_MESSAGES: {\r\n            state = { ...state, unreadMessages: false }\r\n            break;\r\n        }\r\n        case ACTION.GET_UNREAD_MESSAGE: {\r\n            state = { ...state, unreadMessages: true }\r\n            break;\r\n        }\r\n\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default navReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst isEmpty = require(\"is-empty\");\r\n\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {},\r\n    loading: false,\r\n    errors: {}\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: !isEmpty(action.payload),\r\n                user: action.payload\r\n            };\r\n        case ACTION.USER_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case ACTION.GET_ERRORS:\r\n            return {\r\n                ...state,\r\n                errors: action.payload\r\n            };\r\n        case ACTION.CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                errors: {}\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                ...initialState\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { ACTION } from \"../Home/constants\";\r\n\r\nconst initialState = {\r\n    postComments: [],\r\n    posts: [],\r\n    currentfilter: []\r\n}\r\n\r\nconst HomeCenterReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            return { ...state, someData: action.payload }\r\n        }\r\n        case 'GET_POST': {\r\n            state = { ...state, posts: action.payload, postComments: action.allcomments };\r\n            break;\r\n        }\r\n        case 'ADD_POST': {\r\n            let posts = [...state.posts, action.post]\r\n            let postComments = [...state.postComments, action.comment]\r\n            return {\r\n                ...state,\r\n                posts: posts,\r\n                postComments: postComments\r\n            }\r\n        }\r\n        case 'CHANGE_LIKE': {\r\n            \r\n            console.log('Change_like', action.payload);\r\n            return { ...state, posts:state.posts.map(p => p._id ==action.payload._id? {...p,likes:[...action.payload.likes],noOfLikes:action.payload.noOfLikes}:{...p}) }\r\n        }\r\n        case 'ADD_COMMENT': {\r\n            return { ...state, postComments: state.postComments.map(p => p.postId == action.id ? { ...p, comments: [...p.comments, action.comment] } : { ...p }) }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default HomeCenterReducer;","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    profileDetails: {\r\n        name: \"\",\r\n        avatar: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=50\",\r\n        followers: [],\r\n        following: [],\r\n        donations: [],\r\n        achievements: []\r\n    },\r\n    currentfilter: []\r\n}\r\n\r\n\r\n\r\nconst LeftSidePanelReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.CHANGE_FILTERS: {\r\n            //console.log('hahaha')\r\n            state = { ...state, currentfilter: action.selectedfilters }\r\n            break;\r\n        }\r\n        case ACTION.GET_LEFT_DETAILS: {\r\n            state = { ...state, profileDetails: action.payload }\r\n            break;\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n        // case 'ADD_POST':{\r\n        //     state = {...state,profileDetails:{...state.profileDetails,posts:[...state.profileDetails.posts,action.post._id]}}\r\n        //     break;\r\n        // }\r\n        case 'ADD_DONATION': {\r\n            state = { ...state, profileDetails: { ...state.profileDetails, donations: [...state.profileDetails.donations, { _id: action.payload._id, title: action.payload.title }] } }\r\n            console.log('inside the left side reducer', state.profileDetails.donations)\r\n            break;\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default LeftSidePanelReducer;","export const ACTION = {\r\n    CHANGE_FILTERS: 'CHANGE_FILTERS',\r\n};","import { latLng } from \"leaflet\";\r\nimport { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    Donations:[],\r\n    Organisations:[],\r\n    currentfilter:[]\r\n}\r\n\r\nconst DiscoverReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'GET_DONATION':{\r\n            return {...state,Donations: action.donations}\r\n        }\r\n        case 'GET_ORGANISATION':{\r\n            return {...state,Organisations:action.organisations}\r\n        }\r\n        case ACTION.CHANGE_FILTERS: {\r\n            return { ...state, currentfilter: action.selectedfilters }\r\n        }\r\n        case 'ADD_DONATION': {\r\n            const donation = action.payload\r\n            return { ...state,Donations: [...state.Donations,donation]}\r\n        }\r\n        case 'PENDING_DONATION': {\r\n            const donation = action.payload;\r\n            donation.status = \"pending\"\r\n            donation.pickupDate = action.date.format(\"HH:mm ll\");\r\n            donation.receiverId = action.userId\r\n            return { ...state,Donations:state.Donations.map( d => d._id == donation._id? {...donation}:{...d})}\r\n        }\r\n        case 'REJECT_DONATION':{\r\n            return { ...state,Donations:state.Donations.map( d => d._id == action.id? {...d,status:'NotAccepted',receiverId:null}:{...d})}\r\n        }\r\n        case 'ACCEPT_DONATION':{\r\n            return { ...state,Donations:state.Donations.map( d => d._id == action.payload._id? {...d,status:'Accepted'}:{...d})}\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default DiscoverReducer;","export const ACTION = {\r\n    GET_SOME_DATA: \"GET_SOME_DATA\",\r\n};","import { ACTION } from \"../ListModal/constants\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n}\r\n\r\nconst ListReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default ListReducer; ","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    suggestedPages: [],\r\n    profileDetails: {\r\n        profilePic: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=400\",\r\n        avatar: \"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&s=50\",\r\n        name: \"\",\r\n        description: \"\",\r\n        contact: \"\",\r\n        address: \"\",\r\n        followers: [],\r\n        following: [],\r\n        donations: [],\r\n        history: [],\r\n        posts: [],\r\n        noFed: 0,\r\n        noDonations: 0,\r\n        silverAwards: 0,\r\n        goldAwards: 0,\r\n        diamondAwards: 0,\r\n        leaderboardTop: false\r\n    },\r\n\r\n    Pending: [],\r\n\r\n    currentTab: \"timelinePost\",\r\n    followers: [],\r\n    following: []\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_SOME_DATA: {\r\n            state = { ...state, someData: action.payload }\r\n            break;\r\n\r\n        }\r\n        case ACTION.GET_SUGGESTED_PAGES: {\r\n            state = { ...state, suggestedPages: action.payload }\r\n            break;\r\n        }\r\n        case ACTION.CHANGE_TAB: {\r\n            state = { ...state, currentTab: action.payload }\r\n            break;\r\n        }\r\n\r\n        case ACTION.GET_PROFILE: {\r\n            state = { ...state, profileDetails: { ...action.payload, followers: [...action.payload.followers], following: [...action.payload.following] } }\r\n            break;\r\n        }\r\n\r\n        case ACTION.UPDATE_PROFILE_PIC: {\r\n            state = { ...state, profileDetails: { ...state.profileDetails, ...action.payload } }\r\n            break;\r\n        }\r\n        case ACTION.GET_FOLLOWERS: {\r\n            state = { ...state, followers: [...action.payload] }\r\n            break;\r\n        }\r\n        case ACTION.GET_FOLLOWING: {\r\n            state = { ...state, following: [...action.payload] }\r\n            break;\r\n        }\r\n        case 'PENDING_DONATION': {\r\n            const { donorName, postTime, description } = action.payload\r\n            const PendingDonation = {\r\n                donorname: donorName,\r\n                Description: description,\r\n                posttime: postTime,\r\n                pickupDate: action.date.format(\"HH:mm ll\")\r\n            }\r\n            return { ...state, Pending: [...state.Pending, PendingDonation] }\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n        case 'GET_PENDING_DONATION': {\r\n            return { ...state, Pending: action.payload }\r\n\r\n        }\r\n        case 'REJECT_DONATION': {\r\n            return { ...state, Pending: state.Pending.filter(pending => pending._id !== action.id) }\r\n        }\r\n        case 'ACCEPT_DONATION': {\r\n            return { ...state, Pending: state.Pending.filter(pending => pending._id !== action.payload._id) }\r\n        }\r\n        case 'ADD_HISTORY': {\r\n            return { ...state, profileDetails: action.payload }\r\n        }\r\n        case 'ADD_FED': {\r\n            return { ...state, profileDetails: action.payload }\r\n        }\r\n        case 'REVIEW': {\r\n            return { ...state, profileDetails: action.payload }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default profileReducer;","import { ACTION } from './constants';\r\n\r\nconst initialState = {\r\n    threads: [],\r\n}\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.GET_THREADS: {\r\n            state = { ...state, threads: [...action.payload] }\r\n            break;\r\n        }\r\n        case ACTION.UPDATE_THREAD: {\r\n            const updatedThreads = state.threads.filter(x => x._id != action.payload._id)\r\n            state = { ...state, threads: [action.payload, ...updatedThreads] }\r\n            break;\r\n        }\r\n        case 'LOGOUT': {\r\n            state = { ...initialState }\r\n            break;\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\n\r\nexport default messageReducer;","export const ACTION = {\r\n    CHANGE_FILTERS: 'CHANGE_FILTERS',\r\n};","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    Events:[],\r\n    currentfilter:[]\r\n}\r\n\r\nconst CommunityReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.CHANGE_FILTERS: {\r\n            return { ...state, currentfilter: action.selectedfilters }\r\n        }\r\n        case 'ADD_EVENT':{\r\n            return {...state, Events:[...state.Events, action.payload]}\r\n        }\r\n        case 'GET_EVENT':{\r\n            return {...state,Events:action.payload}\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default CommunityReducer;","export const ACTION = {\r\n    CHANGE_FILTERS: 'CHANGE_FILTERS',\r\n};","import { ACTION } from \"./constants\";\r\n\r\nconst initialState = {\r\n    list: [],\r\n    currentfilter:[]\r\n}\r\n\r\nconst LeaderboardReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTION.CHANGE_FILTERS: {\r\n            return { ...state, currentfilter: action.selectedfilters }\r\n        }\r\n        case 'GET_LIST': {\r\n            return {...state, list: action.payload}\r\n        }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default LeaderboardReducer;","import { createStore, applyMiddleware, combineReducers } from \"redux\";\r\n// import { composeWithDevTools as compose } from \"redux-devtools-extension/developmentOnly\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage'\r\n\r\n\r\nimport homeReducer from \"./components/Home/reducer\";\r\nimport navReducer from \"./components/Navbar/reducer\";\r\nimport authReducer from \"./components/Auth/reducer\";\r\nimport HomeCenterReducer from './components/HomeCenter/reducer';\r\nimport LeftSidePanelReducer from './components/LeftSidePanel/reducer';\r\nimport DiscoverReducer from './components/Discover/reducer';\r\nimport ListReducer from './components/ListModal/reducer';\r\nimport profileReducer from \"./components/Profile/reducer\";\r\nimport messageReducer from \"./components/messages/reducer\";\r\nimport CommunityReducer from \"./components/Community/reducer\";\r\nimport LeaderboardReducer from \"./components/Leaderboard/reducer\";\r\n//import all reducers here\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    homeReducer,\r\n    navReducer,\r\n    authReducer,\r\n    HomeCenterReducer,\r\n    DiscoverReducer,\r\n    ListReducer,\r\n    LeftSidePanelReducer,\r\n    profileReducer,\r\n    messageReducer,\r\n    CommunityReducer,\r\n    LeaderboardReducer,\r\n\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\n\r\nexport const store = createStore(\r\n    persistedReducer,\r\n    {},\r\n    applyMiddleware(thunk)\r\n    // compose(applyMiddleware(thunk))\r\n);\r\n\r\nexport const persistor = persistStore(store)\r\n","import axios from \"axios\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport { ACTION } from \"./constants\";\r\nimport { startConnection } from \"../../utils/common\";\r\nimport { setCurrentRoute } from \"../Navbar/actions\";\r\n\r\n// Register User\r\nexport const registerUser = (userData, history) => async dispatch => {\r\n    console.log(userData)\r\n    await axios\r\n        .post(\"/api/users/register\", userData)\r\n        .then(res => history.push(\"/login\"))\r\n        .catch(err =>\r\n            dispatch({\r\n                type: ACTION.GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Login - get user token\r\nexport const loginUser = userData => async dispatch => {\r\n    await axios\r\n        .post(\"/api/users/login\", userData)\r\n        .then(res => {\r\n            // Save to localStorage\r\n\r\n            // Set token to localStorage\r\n            const { token } = res.data;\r\n            localStorage.setItem(\"jwtToken\", token);\r\n            // Set token to Auth header\r\n            setAuthToken(token);\r\n            // Decode token to get user data\r\n            const decoded = jwt_decode(token);\r\n            // Set current user\r\n            dispatch(setCurrentUser(decoded));\r\n            dispatch(setCurrentRoute('home'));\r\n            startConnection();\r\n\r\n\r\n            //START SOCKET\r\n\r\n\r\n\r\n\r\n        })\r\n        .catch(err =>\r\n            dispatch({\r\n                type: ACTION.GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n    return {\r\n        type: ACTION.SET_CURRENT_USER,\r\n        payload: decoded\r\n    };\r\n};\r\n\r\n// User loading\r\nexport const setUserLoading = () => {\r\n    return {\r\n        type: ACTION.USER_LOADING\r\n    };\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n    // Remove token from local storage\r\n    console.log(\"dsa\")\r\n    localStorage.removeItem(\"jwtToken\");\r\n    // Remove auth header for future requests\r\n    setAuthToken(false);\r\n    // Set current user to empty object {} which will set isAuthenticated to false\r\n    dispatch(setCurrentUser({}));\r\n    dispatch({\r\n        type: 'LOGOUT'\r\n    })\r\n};\r\n\r\n\r\nexport const clearErrors = () => dispatch => {\r\n    dispatch({\r\n        type: ACTION.CLEAR_ERRORS\r\n    })\r\n}","import React, { Component } from \"react\";\r\nimport L from \"leaflet\";\r\nimport * as ELG from \"esri-leaflet-geocoder\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"./styles.css\";\r\nimport { geolocated } from 'react-geolocated';\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css\";\r\nimport \"leaflet/dist/leaflet.js\";\r\nimport \"esri-leaflet-geocoder/dist/esri-leaflet-geocoder.js\";\r\nimport { Modal, Button } from 'antd';\r\n\r\nconst DEFAULT_LATITUDE = 28.6139;\r\nconst DEFUALT_LONGITUDE = 77.2090;\r\n\r\n// import marker icons\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl:\r\n    \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon-2x.png\",\r\n  iconUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon.png\",\r\n  shadowUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-shadow.png\"\r\n});\r\n\r\nclass MapComp extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      initialised: false,\r\n      markers: []\r\n    };\r\n  }\r\n\r\n  addMarker = (e) => {\r\n    const { markers } = this.state;\r\n    markers.pop();\r\n    markers.push(e.latlng);\r\n    this.props.saveLatLng(markers[0]);\r\n\r\n    this.setState({ markers });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const map = this.leafletMap.leafletElement;\r\n    const searchControl = new ELG.Geosearch().addTo(map);\r\n    const results = new L.LayerGroup().addTo(map);\r\n\r\n    searchControl.on(\"results\", function (data) {\r\n      results.clearLayers();\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const longitude = this.props.coords ? this.props.coords.longitude : DEFUALT_LONGITUDE;\r\n    const latitude = this.props.coords ? this.props.coords.latitude : DEFAULT_LATITUDE;\r\n\r\n    if (!this.state.initialised && this.props.coords) {\r\n      this.setState({ initialised: true })\r\n      this.addMarker({\r\n        latlng: {\r\n          lat: latitude,\r\n          lng: longitude\r\n        }\r\n      })\r\n    }\r\n\r\n    const center = [28.6139, 77.209];\r\n    return (\r\n      <>\r\n        <div className=\"MAP\">\r\n          <Map\r\n            style={{ height: \"80vh\" }}\r\n            center={[latitude, longitude]}\r\n            zoom=\"10\"\r\n            ref={(m) => {\r\n              this.leafletMap = m;\r\n            }}\r\n            onClick={this.addMarker}\r\n          >\r\n            <TileLayer\r\n              attribution=\"&copy; <a href='https://osm.org/copyright'>OpenStreetMap</a> contributors\"\r\n              url={\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}\r\n            />\r\n            <div className=\"pointer\" />\r\n\r\n\r\n            {/* {\r\n              !this.props.coords\r\n                ? <div className=\"loading\">Loading</div>\r\n                :\r\n                <Marker\r\n                  position={[latitude, longitude]}\r\n                >\r\n                  <Popup>\r\n                    you are here!\r\n            </Popup>\r\n                </Marker>\r\n            } */}\r\n\r\n            {this.state.markers.map((position, idx) => (\r\n              <Marker draggable={true} key={`marker-${idx}`} position={position}>\r\n                <Popup>\r\n                  <span>Marked Location</span>\r\n                </Popup>\r\n              </Marker>\r\n            ))}\r\n          </Map>\r\n          {/* <div class=\"container\">\r\n            <div class=\"vertical-center\">\r\n              <button class=\"button\">Done</button>\r\n            </div>\r\n          </div> */}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default geolocated({\r\n  positionOptions: {\r\n    enableHighAccuracy: false\r\n  },\r\n  userDecisionTimeout: 1000\r\n})(MapComp);\r\n\r\n\r\n//export default MapComp;\r\n","\r\nimport axios from \"axios\"\r\n\r\nexport const addDonation = (data,contact) => async (dispatch) => {\r\n    const res = await axios.post('/api/donation/create',{donation:data});\r\n    dispatch({\r\n        type: 'ADD_DONATION',\r\n        payload:{...res.data.donation,contact:contact}\r\n    })\r\n}","import React, { Component } from 'react';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport axios from \"axios\"\r\nimport moment from 'moment';\r\n\r\nimport { Form, Upload, Row, Col, Input, Modal, DatePicker, Button } from 'antd';\r\nimport { InboxOutlined, CompassOutlined } from '@ant-design/icons';\r\n\r\nimport MapComp from \"../MapComp\";\r\nimport { addDonation } from './action';\r\nimport { addHistory } from '../Profile/action';\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 6,\r\n  },\r\n  wrapperCol: {\r\n    span: 14,\r\n  },\r\n};\r\n\r\nconst config = {\r\n  rules: [\r\n    {\r\n      type: 'object',\r\n      required: true,\r\n      message: 'Please select time!',\r\n    },\r\n  ],\r\n};\r\n\r\nconst normFile = (e) => {\r\n  if (Array.isArray(e)) {\r\n    return e;\r\n  }\r\n\r\n  return e && e.fileList;\r\n};\r\n\r\nclass DonateModal extends Component {\r\n  state = {\r\n    user: 'Name',\r\n  }\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      title: '',\r\n      description: '',\r\n      Date: '',\r\n      files: [],\r\n      mapOpen: false,\r\n      latlng: null\r\n    };\r\n  }\r\n\r\n  saveLatLng = (latlng) => {\r\n    this.setState({\r\n      latlng: latlng\r\n    })\r\n  }\r\n  onChange = (value, dateString) => {\r\n    this.setState({\r\n      Date: dateString\r\n    })\r\n  }\r\n  disabledDate = (current) => {\r\n    return current && current < moment().endOf('day');\r\n  }\r\n\r\n  render() {\r\n    const onFieldsChange = (changedFields, allFields) => {\r\n      this.setState({\r\n        title: allFields[0].value,\r\n        description: allFields[1].value,\r\n      })\r\n    }\r\n    const createPost = (e) => {\r\n      if (this.state.latlng !== undefined) {\r\n        this.props.handleOk()\r\n        const { dragger } = e;\r\n        const imageUrl = dragger?.map(image => image.response.location);\r\n        console.log('this is to create the post', imageUrl);\r\n        const donation = {\r\n          donorId: this.props.profileDetails._id,\r\n          title: this.state.title,\r\n          expiryTime: this.state.Date,\r\n          peopleFed: 0,\r\n          status: 'NotAccepted',\r\n          description: this.state.description,\r\n          location: { type: \"Point\", coordinates: [this.state.latlng.lng, this.state.latlng.lat] },\r\n          images: this.state.files,\r\n          donorName: this.props.profileDetails.name\r\n        }\r\n        this.props.addDonation(donation, this.props.profileDetails.contact)\r\n        this.props.addHistory({\r\n          color: 'blue',\r\n          icon: 'clock',\r\n          text: donation.title + ' ( Donation expires on ' + donation.expiryTime + ' )'\r\n        });\r\n\r\n        this.setState({\r\n          latlng: null,\r\n          files: []\r\n        })\r\n      }\r\n\r\n    }\r\n    const { latlng } = this.state;\r\n    const addpost = (imagelist) => {\r\n      this.setState({\r\n        files: [...this.state.files, imagelist.location]\r\n      })\r\n    }\r\n    return (\r\n      <>\r\n        <Modal\r\n          destroyOnClose\r\n          visible={this.props.visible}\r\n          title=\"Donation Details\"\r\n          onOk={this.props.handleOk}\r\n          onCancel={this.props.handleCancel}\r\n          footer={[\r\n            <Button key=\"back\" onClick={this.props.handleCancel}>\r\n              Return\r\n            </Button>,\r\n            <Button key=\"submit\" type=\"primary\" loading={this.props.loading} form='donateform' htmlType='submit'>\r\n              Submit\r\n            </Button>,\r\n          ]}\r\n        >\r\n          <Form\r\n            id='donateform'\r\n            name=\"validate_other\"\r\n            onFieldsChange={onFieldsChange}\r\n            onFinish={createPost}\r\n            {...formItemLayout}\r\n          >\r\n            <Form.Item\r\n              {...formItemLayout}\r\n              name=\"username\"\r\n              label=\"Title\"\r\n              rules={\r\n                [{\r\n                  required: true, message: 'Please input your Title',\r\n                },]\r\n              }\r\n            >\r\n              <Input placeholder=\"Please input your Title\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name={['user', 'ItemDetails']} label=\"ItemDetails\"\r\n              rules={\r\n                [{\r\n                  required: true, message: 'Please Enter Items details',\r\n                },]\r\n              }\r\n            >\r\n              <Input.TextArea placeholder=\"Please Enter Items details here\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"date-picker\" label=\"Enter expiry date\" {...config}>\r\n              <DatePicker onChange={this.onChange} disabledDate={this.disabledDate} format=\"HH:mm ll\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Address\"\r\n              rules={\r\n                [{\r\n                  required: true, message: 'Please input your address',\r\n                },]\r\n              }\r\n            >\r\n              <Row gutter={8}>\r\n                <Col span={20}>\r\n                  <Input placeholder=\"Location\" disabled value={latlng ? latlng.lat + \" , \" + latlng.lng : \"\"} />\r\n                </Col>\r\n                <Col span={2}>\r\n                  <Button onClick={() => this.setState({ mapOpen: true })} icon={<CompassOutlined />}></Button>\r\n                </Col>\r\n              </Row>\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Dragger\">\r\n              <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n                <Upload.Dragger multiple={false} name=\"file\"\r\n                  customRequest={async ({ file, onSuccess, onError }) => {\r\n                    let formData = new FormData()\r\n                    formData.append('file', file)\r\n                    await axios.post('/upload/donations', formData).then(res => {\r\n                      onSuccess(res.data)\r\n                      addpost(res.data)\r\n                    }).catch(err => { console.log(\"error in uploading\"); onError(\"Error in uploading.Try again\") })\r\n                  }} >\r\n                  <p className=\"ant-upload-drag-icon\">\r\n                    <InboxOutlined />\r\n                  </p>\r\n                  <p className=\"ant-upload-text\">\r\n                    Click or drag file to this area to upload\r\n                  </p>\r\n                  <p className=\"ant-upload-hint\">\r\n                    Support for a single or bulk upload.\r\n                  </p>\r\n                </Upload.Dragger>\r\n              </Form.Item>\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n\r\n        <Modal footer={[\r\n          <Button onClick={() => this.setState({ mapOpen: false })}>\r\n            Return\r\n          </Button>\r\n        ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n          <MapComp saveLatLng={this.saveLatLng} />\r\n        </Modal>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addHistory: bindActionCreators(addHistory, dispatch),\r\n  addDonation: bindActionCreators(addDonation, dispatch)\r\n})\r\nconst mapStatetoProps = state => {\r\n  return {\r\n    profileDetails: state.LeftSidePanelReducer.profileDetails,\r\n  };\r\n\r\n}\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(DonateModal);","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { connect } from \"react-redux\";\r\nimport moment from 'moment';\r\n\r\nimport { Layout, Menu, Button, Input, Modal, Badge, Popover, Card, Avatar } from 'antd';\r\nimport {\r\n  HeartFilled, LogoutOutlined, HomeOutlined, BellOutlined, TrophyOutlined,\r\n  UsergroupDeleteOutlined, BulbOutlined, UserOutlined,\r\n  MessageOutlined\r\n} from '@ant-design/icons';\r\nimport \"./styles.css\"\r\n\r\nimport { setCurrentRoute } from './actions';\r\nimport { bindActionCreators } from 'redux';\r\nimport { logoutUser } from '../Auth/action';\r\nimport DonateModal from '../DonateModal';\r\n\r\nconst { Header } = Layout;\r\nconst { Search } = Input;\r\n\r\n\r\n\r\nclass Navbar extends Component {\r\n  state = {\r\n    loading: false,\r\n    visible: false,\r\n  };\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = () => {\r\n    this.setState({ loading: true });\r\n    setTimeout(() => {\r\n      this.setState({ loading: false, visible: false });\r\n    }, 500);\r\n    Modal.success({\r\n      content: 'Donations posted',\r\n    });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n\r\n  render() {\r\n    const { visible, loading } = this.state;\r\n    let { currentRoute, setCurrentRoute, logoutUser, auth, notifications, unreadNotifications, unreadMessages } = this.props;\r\n    const content = (\r\n      notifications?.length ? notifications.map(({ user, notificationType, createdAt }) => (\r\n        <Card style={{ width: 320, margin: '10px 5px' }}>\r\n          <p><Link to={`/profile/${user._id}`}><Avatar src={user.avatar}></Avatar> {user.name}</Link>\r\n            {notificationType == 'follow' ?\r\n              ' followed you!' :\r\n              notificationType == 'donation-accept' ?\r\n                ' has accepted your donation' :\r\n                notificationType == 'donation' ?\r\n                  ' posted a donation' :\r\n                  notificationType == 'like' ?\r\n                    ' liked your post' :\r\n                    notificationType == 'comment' ?\r\n                      ' commented on your post' :\r\n                      notificationType == 'donation-interest' ?\r\n                        ' is interested in your donation' :\r\n                        notificationType == 'donation-reject' ?\r\n                          ' rejected your donation' :\r\n                          notificationType == 'gold' ?\r\n                            ' gave you a Gold award' :\r\n                            notificationType == 'silver' ?\r\n                              ' gave you a Silver award' :\r\n                              notificationType == 'diamond' ?\r\n                                ' gave you a Diamond award' :\r\n                                \" \"\r\n            }\r\n          </p>\r\n          <span style={{ marginLeft: '5px' }}>{moment(createdAt).fromNow()}</span>\r\n        </Card>\r\n      )) : <div>\r\n          Notifications are Empty\r\n      </div>\r\n    );\r\n\r\n\r\n\r\n    if (auth.isAuthenticated)\r\n      return (\r\n        <div>\r\n          <Header style={{ position: 'fixed', zIndex: 100, width: '100%' }}>\r\n            <Menu theme=\"dark\" mode=\"horizontal\" selectedKeys={[currentRoute, \"logo\"]} onSelect={(item) => { item.key == \"logout\" ? logoutUser() : setCurrentRoute(item.key) }}>\r\n              <Menu.Item key=\"logo\" className=\"customclasslogo\" icon={<HeartFilled />} ><Link to=\"/home\">NofoodWasted</Link></Menu.Item>\r\n              <Button type=\"dashed\" size={\"large\"} style={{ \"marginRight\": \"36px\", \"marginLeft\": \"36px\" }} onClick={this.showModal}>\r\n                Donate Now!\r\n                  </Button>\r\n              <DonateModal handleCancel={this.handleCancel} handleOk={this.handleOk} showModal={this.showModal} visible={visible} loading={loading} />\r\n              <Menu.Item key=\"home\" icon={<HomeOutlined />} ><Link to=\"/home\">Home</Link></Menu.Item>\r\n              <Menu.Item key=\"discover\" icon={<BulbOutlined />}><Link to='/discover'>Discover</Link></Menu.Item>\r\n              <Menu.Item key=\"community\" icon={<TrophyOutlined />} ><Link to=\"/community\">Community</Link></Menu.Item>\r\n              <Menu.Item key=\"leaderboard\" icon={<UsergroupDeleteOutlined />} ><Link to=\"/leaderboard\">Leaderboard</Link></Menu.Item>\r\n              <Menu.Item key=\"notifications\"><Popover placement=\"bottom\" content={content} title=\"Notifications\" trigger=\"click\">\r\n                <Badge dot={unreadNotifications ? true : false} />\r\n                {<BellOutlined />}Notifications\r\n              </Popover></Menu.Item>\r\n              <Menu.Item key=\"messages\" >\r\n                <Link to=\"/messages\">\r\n                  <Badge dot={unreadMessages ? true : false} />\r\n\r\n                  <MessageOutlined />\r\n\r\n                    Messages\r\n\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"profile\" icon={<UserOutlined />} ><Link to={`/i/profile/${auth.user.userId}`}>Profile</Link></Menu.Item>\r\n              <Menu.Item key=\"logout\" icon={<LogoutOutlined />} >Logout</Menu.Item>\r\n            </Menu>\r\n          </Header>\r\n\r\n        </div >\r\n      );\r\n    else\r\n      return null;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  currentRoute: state.navReducer.currentRoute,\r\n  auth: state.authReducer,\r\n  notifications: state.navReducer.notifications,\r\n  unreadNotifications: state.navReducer.unreadNotifications,\r\n  unreadMessages: state.navReducer.unreadMessages\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch),\r\n  logoutUser: bindActionCreators(logoutUser, dispatch)\r\n})\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Navbar));\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Modal, Button } from 'antd';\r\nimport { List, Avatar } from 'antd';\r\n\r\nclass FollowersList extends React.Component {\r\n\r\n\r\n\r\n    render() {\r\n        const { data, title, loading } = this.props\r\n        return (\r\n            <>\r\n\r\n                <Modal\r\n                    title={title}\r\n                    visible={this.props.visible}\r\n                    onCancel={this.props.handleCancel}\r\n                    destroyOnClose\r\n                    footer={[\r\n                        <Button type=\"primary\" onClick={this.props.handleCancel}>\r\n                            Close\r\n                        </Button>\r\n                    ]}\r\n                >\r\n                    <List\r\n                        itemLayout=\"horizontal\"\r\n                        dataSource={data}\r\n                        loading={loading}\r\n                        renderItem={item => (\r\n                            <Link onClick={this.props.handleCancel} to={`/profile/${item._id}`}>\r\n                                <List.Item>\r\n                                    <List.Item.Meta\r\n                                        avatar={<Avatar src={item.avatar} />}\r\n                                        title={<a>{item.name}</a>}\r\n                                        description={item.description}\r\n                                    />\r\n                                </List.Item>\r\n                            </Link>\r\n\r\n                        )}\r\n                    />,\r\n        </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default (FollowersList);","import React from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport { Button, Modal, Form, Input } from 'antd';\r\nimport { UserOutlined, PhoneOutlined } from '@ant-design/icons';\r\n\r\nclass EditProfile extends React.Component {\r\n    render() {\r\n        const { data } = this.props\r\n        return (\r\n            <>\r\n\r\n                <Modal\r\n                    visible={this.props.visible}\r\n                    title=\"Edit Profile\"\r\n                    onOk={this.props.handleOk}\r\n                    onCancel={this.props.handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                            Return\r\n                  </Button>,\r\n                        <Button form=\"edit-profile-form\" key=\"submit\" type=\"primary\" htmlType=\"submit\" loading={this.props.loading}>\r\n                            Submit\r\n                  </Button>,\r\n                    ]}\r\n                >\r\n                    <Form\r\n                        id=\"edit-profile-form\"\r\n                        layout=\"vertical\"\r\n                        name=\"form_in_modal\"\r\n                        initialValues={{\r\n                            ['name']: data.name,\r\n                            ['contact']: data.contact,\r\n                            ['address']: data.address,\r\n                            ['description']: data.description,\r\n                        }}\r\n                        onFinish={this.props.handleOk}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Name\"\r\n                            name=\"name\"\r\n                            rules={[{ required: true, message: 'Please input your name!' }]}\r\n                        >\r\n                            <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"Contact\"\r\n                            name=\"contact\"\r\n\r\n                            rules={[{ required: true, message: 'Please input your contact!' }]}\r\n                        >\r\n                            <Input prefix={<PhoneOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Address\"\r\n                            name=\"address\"\r\n\r\n                            rules={[{ required: true, message: 'Please input your address!' }]}\r\n                        >\r\n                            <Input.TextArea />\r\n\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Description\"\r\n                            name=\"description\"\r\n\r\n                            rules={[{ required: true, message: 'Please input a brief description!' }]}\r\n                        >\r\n                            <Input.TextArea />\r\n\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStatetoProps = state => {\r\n    return {\r\n        data: state.profileReducer.profileDetails\r\n    };\r\n\r\n};\r\nexport default connect(mapStatetoProps)(EditProfile);\r\n","import axios from \"axios\"\r\n\r\nexport const addEvent = (data) => async (dispatch) => {\r\n    const res = await axios.post('/api/event/create',{event:data});\r\n    console.log(res.data);\r\n    dispatch({\r\n        type: 'ADD_EVENT',\r\n        payload:res.data.event\r\n    })\r\n}\r\n","import React, { Component } from 'react';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport axios from \"axios\"\r\nimport moment from 'moment';\r\n\r\nimport { Form, Upload, Row, Col, Input, Modal, DatePicker, Button } from 'antd';\r\nimport { InboxOutlined, CompassOutlined, EnvironmentOutlined } from '@ant-design/icons';\r\n\r\nimport MapComp from \"../MapComp\";\r\nimport { addEvent } from './action';\r\nimport { addHistory } from '../Profile/action';\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 6,\r\n  },\r\n  wrapperCol: {\r\n    span: 14,\r\n  },\r\n};\r\n\r\nconst config = {\r\n  rules: [\r\n    {\r\n      type: 'object',\r\n      required: true,\r\n      message: 'Please select time!',\r\n    },\r\n  ],\r\n};\r\n\r\nconst normFile = (e) => {\r\n  if (Array.isArray(e)) {\r\n    return e;\r\n  }\r\n\r\n  return e && e.fileList;\r\n};\r\n\r\nclass EventModal extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      title: '',\r\n      description: '',\r\n      Date: '',\r\n      files: [],\r\n      mapOpen: false,\r\n      latlng: null\r\n    };\r\n  }\r\n\r\n  saveLatLng = (latlng) => {\r\n    this.setState({\r\n      latlng: latlng\r\n    })\r\n  }\r\n  onChange = (value, dateString) => {\r\n    this.setState({\r\n      Date: dateString\r\n    })\r\n  }\r\n  disabledDate = (current) => {\r\n    return current && current < moment().endOf('day');\r\n  }\r\n\r\n  render() {\r\n    const onFieldsChange = (changedFields, allFields) => {\r\n      this.setState({\r\n        title: allFields[0].value,\r\n        description: allFields[1].value,\r\n      })\r\n    }\r\n    const createEvent = (e) => {\r\n      if (this.state.latlng !== undefined) {\r\n        this.props.handleOk()\r\n        const { dragger } = e;\r\n        const imageUrl = dragger?.map(image => image.response.location);\r\n        console.log('this is to create the post', imageUrl);\r\n        const event = {\r\n          donorId: this.props.profileDetails._id,\r\n          title: this.state.title,\r\n          expiryTime: this.state.Date,\r\n          description: this.state.description,\r\n          location: { type: \"Point\", coordinates: [this.state.latlng.lng, this.state.latlng.lat] },\r\n          images: this.state.files\r\n        }\r\n        this.props.addEvent(event)\r\n        this.props.addHistory({\r\n          color: 'blue',\r\n          icon: 'dot',\r\n          text: event.title + ' ( Event Created on ' + moment().format(\"HH:mm ll\") + ' )'\r\n        });\r\n\r\n        this.setState({\r\n          latlng: null,\r\n          files: []\r\n        })\r\n      }\r\n\r\n    }\r\n    const { latlng } = this.state;\r\n    const addpost = (imagelist) => {\r\n      this.setState({\r\n        files: [...this.state.files, imagelist.location]\r\n      })\r\n    }\r\n    return (\r\n      <>\r\n        <Modal\r\n          destroyOnClose\r\n          visible={this.props.visible}\r\n          title=\"Event Details\"\r\n          onOk={this.props.handleOk}\r\n          onCancel={this.props.handleCancel}\r\n          footer={[\r\n            <Button key=\"back\" onClick={this.props.handleCancel}>\r\n              Return\r\n          </Button>,\r\n            <Button key=\"submit\" type=\"primary\" loading={this.props.loading}\r\n              form='donateform' htmlType='submit'>\r\n              Submit\r\n          </Button>,\r\n          ]}\r\n        >\r\n          <Form\r\n            id='donateform' name=\"validate_other\"\r\n            onFieldsChange={onFieldsChange} onFinish={createEvent}\r\n            {...formItemLayout}\r\n          >\r\n            <Form.Item\r\n              name=\"username\" label=\"Title\"\r\n              {...formItemLayout}\r\n              rules={\r\n                [{\r\n                  required: true, message: 'Please input your Title',\r\n                }]\r\n              }\r\n            >\r\n              <Input placeholder=\"Please input your Title\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name={['user', 'ItemDetails']} label=\"Event Details\"\r\n              rules={\r\n                [{\r\n                  required: true, message: 'Please Enter Event details',\r\n                },]\r\n              }\r\n            >\r\n              <Input.TextArea placeholder=\"Please Enter Event details here\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"date-picker\" label=\"Enter Event date\" {...config}>\r\n              <DatePicker showTime onChange={this.onChange} disabledDate={this.disabledDate} format=\"HH:mm ll\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Address\"\r\n              rules={\r\n                [{\r\n                  required: true, message: 'Please input your address',\r\n                },]\r\n              }\r\n            >\r\n              <Row gutter={8}>\r\n                <Col span={20}>\r\n                  <Input placeholder=\"Location\" disabled value={latlng ? latlng.lat + \" , \" + latlng.lng : \"\"} />\r\n                </Col>\r\n                <Col span={2}>\r\n                  <Button onClick={() => this.setState({ mapOpen: true })} icon={<CompassOutlined />}></Button>\r\n                </Col>\r\n              </Row>\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Dragger\">\r\n              <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n                <Upload.Dragger multiple={false} name=\"file\"\r\n                  customRequest={async ({ file, onSuccess, onError }) => {\r\n                    let formData = new FormData()\r\n                    formData.append('file', file)\r\n                    await axios.post('/upload/donations', formData).then(res => {\r\n                      onSuccess(res.data)\r\n                      addpost(res.data)\r\n                    }).catch(err => { console.log(\"error in uploading\"); onError(\"Error in uploading.Try again\") })\r\n                  }} >\r\n                  <p className=\"ant-upload-drag-icon\">\r\n                    <InboxOutlined />\r\n                  </p>\r\n                  <p className=\"ant-upload-text\">\r\n                    Click or drag file to this area to upload\r\n            </p>\r\n                  <p className=\"ant-upload-hint\">\r\n                    Support for a single or bulk upload.\r\n            </p>\r\n                </Upload.Dragger>\r\n              </Form.Item>\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n\r\n        <Modal footer={[\r\n          <Button onClick={() => this.setState({ mapOpen: false })}>\r\n            Return\r\n        </Button>\r\n        ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n          <MapComp saveLatLng={this.saveLatLng} />\r\n        </Modal>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addEvent: bindActionCreators(addEvent, dispatch),\r\n  addHistory: bindActionCreators(addHistory, dispatch)\r\n})\r\nconst mapStatetoProps = state => {\r\n  return {\r\n    profileDetails: state.LeftSidePanelReducer.profileDetails,\r\n  };\r\n\r\n}\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(EventModal);","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { Button, Modal,Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport { uploadProfilePic } from '../action';\r\n\r\nclass ProfilePic extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal\r\n                    visible={this.props.visible}\r\n                    title=\"Change Profile Picture\"\r\n                    onOk={this.props.handleOk}\r\n                    onCancel={this.props.handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={this.props.handleCancel}>\r\n                            Return\r\n                  </Button>\r\n                    ]}\r\n                >\r\n\r\n                    <Upload multiple={false} name=\"file\" accept=\"image/*\"\r\n                        customRequest={async ({ file, onSuccess, onError }) => {\r\n                            let formData = new FormData()\r\n                            formData.append('file', file)\r\n                            await axios.post('/upload/profile-pic', formData).then(res => {\r\n                                onSuccess(res.data)\r\n                                this.props.uploadProfilePic(res.data.profilePic, res.data.avatar)\r\n\r\n                            }).catch(err => {\r\n                                console.log(\"error in uploading\");\r\n                                onError(\"Error in uploading. Try again\")\r\n                            }\r\n                            )\r\n                        }}\r\n                        listType=\"picture\"\r\n                    >\r\n                        <Button icon={<UploadOutlined />}>Upload Profile Pic</Button>\r\n                    </Upload>\r\n\r\n\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    uploadProfilePic: bindActionCreators(uploadProfilePic, dispatch)\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(ProfilePic); ","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { HomeOutlined, EditOutlined, ClockCircleOutlined, PhoneOutlined, TeamOutlined, SendOutlined, CheckOutlined, CloseOutlined, CheckCircleTwoTone } from '@ant-design/icons';\r\nimport { Layout, Form, Modal, Image, Input, Card, Tabs, Timeline, List, Avatar, Button, Divider, Space, Badge, message, InputNumber } from 'antd';\r\nimport \"./styles.css\"\r\n\r\n//import {diamondAward} from '../../awards/diamond.jpg'\r\n\r\nimport FollowersList from './FollowersList';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport LoadingScreen from '../LoadingScreen';\r\nimport EditProfile from './EditProfile';\r\nimport EventModal from '../EventModal';\r\nimport ProfilePic from './ProfilePic';\r\nimport {\r\n  addFed, getSomeData, changeTab, getProfile, followUser, unfollowUser, getFollowers,\r\n  getFollowing, addHistory, getPendingDonations, rejectDonation, editProfile, acceptdonation,\r\n  reviewOrg\r\n} from './action';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Content, Sider } = Layout;\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 8,\r\n  },\r\n  wrapperCol: {\r\n    span: 16,\r\n  },\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 8,\r\n    span: 16,\r\n  },\r\n};\r\n\r\nclass Profile extends Component {\r\n\r\n  state = {\r\n    followersVisible: false,\r\n    followingVisible: false,\r\n    loadingAccept: false,\r\n    visibleAccept: false,\r\n    loadingDonation: false,\r\n    visibleDonation: false,\r\n    loadingEvent: false,\r\n    visibleEvent: false,\r\n    visibleEdit: false,\r\n    visibleProfilePic: false,\r\n    loadingEdit: false,\r\n    clicked: false,\r\n    followLoading: false,\r\n    unfollowLoading: false,\r\n    followListLoading: false,\r\n    profilePageLoading: false,\r\n    followingText: \"Following\"\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  handleCancel = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  showModalEvent = () => {\r\n    this.setState({\r\n      visibleEvent: true,\r\n    });\r\n  };\r\n\r\n  handleOkEvent = () => {\r\n    this.setState({ loadingEvent: true });\r\n    setTimeout(() => {\r\n      this.setState({ loadingEvent: false, visibleEvent: false });\r\n    }, 500);\r\n    Modal.success({\r\n      content: 'Event posted',\r\n    });\r\n  };\r\n\r\n  handleCancelEvent = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visibleEvent: false,\r\n    });\r\n  };\r\n\r\n  showModalAccept = (data) => {\r\n    this.props.acceptdonation(data)\r\n    this.props.addHistory({\r\n      color: 'green',\r\n      icon: 'dot',\r\n      text: data.title + ' ( Donation accepted on ' + moment().format(\"HH:mm ll\") + ' )'\r\n    });\r\n\r\n    this.setState({\r\n      visibleAccept: true,\r\n      acceptdonation: data\r\n    });\r\n  };\r\n\r\n  handleOkAccept = () => {\r\n    this.setState({ loadingAccept: true });\r\n    setTimeout(() => {\r\n      this.setState({ loadingAccept: false, visibleAccept: false });\r\n    }, 1000);\r\n    Modal.success({\r\n      content: \"Donation Shared on profile\"\r\n    });\r\n  };\r\n\r\n  handleCancelAccept = () => {\r\n    this.setState({ visibleAccept: false });\r\n  };\r\n\r\n  showModalDonation = (id) => {\r\n    this.setState({\r\n      currentDonationId: id,\r\n      visibleDonation: true,\r\n    });\r\n  };\r\n\r\n\r\n  handleOkDonation = () => {\r\n    this.setState({ loadingDonation: true });\r\n    setTimeout(() => {\r\n      this.setState({ loadingDonation: false, visibleDonation: false });\r\n    }, 1000);\r\n    Modal.success({\r\n      content: \"Thank You\"\r\n    });\r\n  };\r\n\r\n  handleCancelDonation = () => {\r\n    this.setState({ visibleDonation: false });\r\n  };\r\n\r\n  handleCancelProfilePic = () => {\r\n    this.setState({ visibleProfilePic: false })\r\n  }\r\n\r\n  showModalEdit = () => {\r\n    this.setState({\r\n      visibleEdit: true,\r\n    });\r\n  };\r\n\r\n  handleOkEdit = async (user) => {\r\n    this.setState({ loadingEdit: true });\r\n    await this.props.editProfile(user);\r\n    this.setState({ loadingEdit: false, visibleEdit: false })\r\n  };\r\n\r\n  handleCancelEdit = () => {\r\n    this.setState({ visibleEdit: false });\r\n  };\r\n\r\n  handleClickDiamond = () => {\r\n    message.info('Diamond award: each one feeds upto 3 people');\r\n  }\r\n\r\n  handleClickGold = () => {\r\n    message.info('Gold award : each one feeds upto 2 people');\r\n  }\r\n\r\n  handleClickleaderboardTop = () => {\r\n    message.info('nofoodWasted leaderboard :  Top contributor!');\r\n  }\r\n\r\n  handleClickverifiedAccount = () => {\r\n    message.info('This is a verified organisation registered with the authorities!');\r\n  }\r\n\r\n  handleClickSilver = () => {\r\n    message.info('Silver award : each feeds 1 person');\r\n  }\r\n\r\n  callback = (key) => {\r\n    console.log(key);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({\r\n      profilePageLoading: true\r\n    })\r\n    await this.props.getProfile(this.props.match.params.id)\r\n    await this.props.getPendingDonations()\r\n    this.setState({\r\n      profilePageLoading: false\r\n    })\r\n  }\r\n  render() {\r\n\r\n    const { followersVisible, followingVisible, loadingDonation, visibleDonation, loadingAccept, visibleAccept, loadingEvent, visibleEvent, visibleEdit, loadingEdit, visibleProfilePic } = this.state;\r\n    const { PendingDonations, profileDetails, user, followUser, unfollowUser, getFollowers, getFollowing } = this.props\r\n\r\n    const imagelist = (images) => {\r\n      return images?.length ? (\r\n        images.map(image => {\r\n          return (\r\n            <Image\r\n              width={100}\r\n              height={100}\r\n              alt=\"example\"\r\n              src={image}\r\n            />\r\n          )\r\n        })\r\n      ) : (<div> No images!</div>)\r\n    }\r\n    const action = (Donation) => {\r\n      if (!(Donation?.reviewed) && Donation.status === \"Accepted\") {\r\n        const value = [\r\n          <p className=\"text\" onClick={async () => {\r\n            console.log(Donation);\r\n            await this.setState({ currentDonation: Donation, });\r\n          }\r\n          } ><b onClick={() => this.showModalDonation(Donation._id)} > Rate the Reciever </b></p>,\r\n        ]\r\n        return value;\r\n      }\r\n      else return [];\r\n    }\r\n    const Demo = () => (\r\n      <Tabs centered=\"true\" size=\"large\"\r\n      >\r\n\r\n        <TabPane tab=\"Timeline\" key=\"timelinePost\">\r\n          <Timeline mode=\"alternate\">\r\n\r\n            {profileDetails?.history?.map(timelinepost => (\r\n              <Timeline.Item color={timelinepost?.color} dot={timelinepost?.icon === 'clock' ? <ClockCircleOutlined /> : null}>{timelinepost.text}</Timeline.Item>\r\n            ))}\r\n\r\n          </Timeline>\r\n\r\n        </TabPane>\r\n\r\n\r\n        <TabPane tab=\"Donations\" key=\"donations\">\r\n          {profileDetails?.donations?.map(donation => (\r\n            <Card actions={action(donation)} title={donation.title} extra={<div>{donation.status}</div>} style={{ marginLeft: '75px', marginRight: '75px', marginTop: '8px' }}>\r\n              <p>{donation.description}</p>\r\n              <Space>\r\n                {imagelist(donation.images)}\r\n              </Space>\r\n            </Card>\r\n          )\r\n          )}\r\n        </TabPane>\r\n\r\n        <TabPane tab=\"Posts\" key=\"posts\">\r\n\r\n\r\n\r\n          {profileDetails?.posts?.map(post => (\r\n            <Card title={post.author} extra={post.DateTime} style={{ marginLeft: '75px', marginRight: '75px', marginTop: '8px' }}>\r\n              <p>{post.description}</p>\r\n            </Card>\r\n          ))}\r\n        </TabPane>\r\n      </Tabs >\r\n    );\r\n    const PendingDonationList = PendingDonations.length ? (\r\n      PendingDonations.map(PendingDonation => {\r\n        return (\r\n          <Card title={PendingDonation.donorName} extra={moment(PendingDonation.postTime).format(\"ll\")} size=\"small\" style={{ width: 250 }}\r\n            actions={[\r\n              <p classname=\"cardtext1\" onClick={() => this.showModalAccept(PendingDonation)} ><CheckOutlined hoverable={true} key=\"Accept\" /> Accept </p>,\r\n              <p onClick={() => this.props.rejectDonation(PendingDonation._id)}><CloseOutlined hoverable={true} key=\"Reject\" /> Reject </p>,\r\n            ]}\r\n          >\r\n            <p><p><b>Time Given: </b>{PendingDonation.pickupDate}</p>{PendingDonation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n\r\n    const onFinish = async (values) => {\r\n      await this.props.addFed(values.peoplefed, values.rating, this.state.acceptdonation?.donorId);\r\n\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n      console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const onFinishD = (values) => {\r\n      this.props.reviewOrg(this.state.currentDonationId, values.rating);\r\n      console.log('Success:', values);\r\n      console.log(this.state.currentDonationId);\r\n    };\r\n\r\n\r\n    const onFinishFailedD = (errorInfo) => {\r\n      console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    return (\r\n      this.state.profilePageLoading ? <LoadingScreen /> :\r\n        <Layout key={this.props.match.params.id} className=\"layout\" style={{ marginTop: \"56px\" }}>\r\n          <Layout>\r\n            <Sider width={250} style={{ padding: \"20px\" }}>\r\n              <List\r\n                itemLayout=\"horizontal\"\r\n                //dataSource={suggestedPages}\r\n                header={\r\n                  <div style={{ fontWeight: \"bolder\", padding: \"5px\", fontSize: \"medium\" }}>\r\n                    Suggested pages\r\n                </div>\r\n                }\r\n                renderItem={item => (\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                      title={<a href=\"https://www.google.com/\">{item.title}</a>}\r\n                      description=\"brief description\"\r\n                    />\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </Sider>\r\n            <Layout >\r\n              <Content\r\n                // className=\"site-layout-background\"\r\n                style={{\r\n                  padding: 24,\r\n                  marginTop: 24,\r\n                  minHeight: 280,\r\n                }}\r\n                key={this.props.match.params.id}\r\n              >\r\n                <div style={{ display: \"flex\" }}>\r\n                  <Image\r\n                    width={240}\r\n                    src={profileDetails?.profilePic}\r\n                  />\r\n                  {user.userId === this.props.match.params.id ? (\r\n                    <Button\r\n                      shape=\"circle\"\r\n                      style={{ marginLeft: \"-15px\", zIndex: \"10\" }}\r\n                      onClick={() => this.setState({ visibleProfilePic: true })}>\r\n                      <EditOutlined />\r\n                    </Button>\r\n                  ) : null}\r\n\r\n                  <div style={{ marginLeft: \"8px\", display: \"flex\", flexDirection: \"column\", justifyContent: \"space-evenly\" }}>\r\n                    <p style={{ \"fontSize\": \"24px\", marginBottom: \"0px\", fontWeight: 500 }}>{profileDetails.name}\r\n                      {profileDetails.userType === \"organisation\" ?\r\n                        (\r\n                          <span style={{ position: \"relative\", top: \"-8px\", left: \"-4px\" }}>\r\n                            <Button\r\n                              shape=\"circle\"\r\n                              size=\"small\"\r\n                              ghost=\"true\"\r\n                              type=\"link\"\r\n                              onClick={this.handleClickverifiedAccount}>\r\n                              <CheckCircleTwoTone />\r\n                            </Button>\r\n                          </span>\r\n                        ) :\r\n                        null\r\n                      }\r\n\r\n                    </p>\r\n                    <div style={{}}>\r\n                      <p>{profileDetails?.description} </p>\r\n\r\n                      <PhoneOutlined /> <span style={{ fontWeight: 500, marginRight: \"20px\" }}>{profileDetails?.contact}</span>\r\n                      <HomeOutlined /> <span style={{ fontWeight: 500 }}>{profileDetails?.address}</span>\r\n\r\n\r\n                      <span style={{ float: \"right\", marginLeft: \"40px\" }}>\r\n                        {profileDetails?.leaderboardTop ? (\r\n                          <span onClick={this.handleClickleaderboardTop} style={{ marginRight: \"6px\" }}>\r\n                            {/* <Badge size=\"small\" count={profileDetails?.leaderboardTop} style={{ backgroundColor: \"#97033e\" }}> */}\r\n                            <Avatar size=\"small\" src=\"/images/awards/leaderboardTop.jpg\" />\r\n                            {/* </Badge> */}\r\n                          </span>\r\n                        ) : null}\r\n                        <span onClick={this.handleClickDiamond} style={{ marginRight: \"6px\" }}>\r\n                          <Badge showZero={true} size=\"small\" count={profileDetails?.diamondAwards} style={{ backgroundColor: \"#97033e\" }}>\r\n                            <Avatar size=\"small\" src=\"/images/awards/diamond.jpg\" />\r\n                          </Badge>\r\n                        </span>\r\n                        <span onClick={this.handleClickGold} style={{ marginRight: \"6px\" }}>\r\n                          <Badge showZero={true} size=\"small\" count={profileDetails?.goldAwards} style={{ backgroundColor: \"#97033e\" }}>\r\n                            <Avatar size=\"small\" src=\"/images/awards/gold.jpg\" />\r\n                          </Badge>\r\n                        </span>\r\n                        <span onClick={this.handleClickSilver} style={{}}>\r\n                          <Badge showZero={true} size=\"small\" count={profileDetails?.silverAwards} style={{ backgroundColor: \"#97033e\" }}>\r\n                            <Avatar size=\"small\" src=\"/images/awards/silver.jpg\" />\r\n                          </Badge>\r\n                        </span>\r\n                      </span>\r\n                    </div>\r\n                    <div style={{ marginLeft: \"-16px\", marginTop: \"6px\" }}>\r\n                      <Button type=\"link\" size=\"large\" style={{ fontWeight: \"bolder\" }} onClick={\r\n                        async () => {\r\n                          this.setState({ followersVisible: true, followListLoading: true })\r\n                          await getFollowers(this.props.match.params.id);\r\n                          this.setState({ followListLoading: false })\r\n                        }}>\r\n                        {profileDetails?.followers?.length} Followers\r\n          </Button>\r\n                      <Button type=\"link\" size=\"large\" style={{ fontWeight: \"bolder\" }} onClick={\r\n                        async () => {\r\n                          this.setState({ followingVisible: true, followListLoading: true })\r\n                          await getFollowing(this.props.match.params.id)\r\n                          this.setState({ followListLoading: false })\r\n                        }}>\r\n                        {profileDetails?.following?.length} Following\r\n          </Button>\r\n                      <FollowersList title=\"Followers\" data={this.props.followers} handleCancel={() => this.setState({ followersVisible: false })} showModal={() => this.setState({ followersVisible: true })} visible={followersVisible} loading={this.state.followListLoading} />\r\n                      <FollowersList title=\"Following\" data={this.props.following} handleCancel={() => this.setState({ followingVisible: false })} showModal={() => this.setState({ followingVisible: true })} visible={followingVisible} loading={this.state.followListLoading} />\r\n\r\n                      {user.userId === this.props.match.params.id ?\r\n                        (<span style={{ float: \"right\", marginTop: \"6px\" }}>\r\n                          <Button onClick={this.showModalEdit} type=\"primary\" style={{ marginRight: \"8px\" }}  >\r\n                            <EditOutlined /> Edit Profile\r\n                      </Button>\r\n                          <EditProfile handleCancel={this.handleCancelEdit} handleOk={this.handleOkEdit} showModal={this.showModalEdit} visible={visibleEdit} loading={loadingEdit} />\r\n                          <ProfilePic visible={visibleProfilePic} handleCancel={this.handleCancelProfilePic} />\r\n                          <Button onClick={this.showModalEvent} type=\"primary\" style={{ marginRight: \"8px\" }}  >\r\n                            Add Event\r\n                          </Button>\r\n                          <EventModal handleCancel={this.handleCancelEvent} handleOk={this.handleOkEvent} showModal={this.showModalEvent} visible={visibleEvent} loading={loadingEvent} />\r\n                        </span>\r\n                        ) : (<span style={{ float: \"right\", marginTop: \"6px\" }}>\r\n                          <>\r\n                            {\r\n                              profileDetails?.followers.find(f => f == user.userId) ?\r\n                                <Button onMouseOver={() => {\r\n                                  this.setState({\r\n                                    followingText: \"Unfollow\"\r\n                                  })\r\n                                }\r\n                                } onMouseLeave={() => {\r\n                                  this.setState({\r\n                                    followingText: \"Following\"\r\n                                  })\r\n                                }} loading={this.state.unfollowLoading} type={this.state.followingText == \"Unfollow\" ? \"danger\" : \"primary\"} style={{ marginRight: \"14px\" }} onClick={async () => {\r\n                                  this.setState({ unfollowLoading: true })\r\n                                  await unfollowUser(this.props.match.params.id)\r\n                                  this.setState({ unfollowLoading: false })\r\n                                }} >\r\n                                  <p> <TeamOutlined /> {this.state.followingText}</p>\r\n                                </Button> :\r\n                                <Button loading={this.state.followLoading} type=\"primary\" style={{ marginRight: \"14px\" }} onClick={async () => {\r\n                                  this.setState({ followLoading: true })\r\n                                  await followUser(this.props.match.params.id)\r\n                                  this.setState({ followLoading: false })\r\n\r\n                                }}>\r\n                                  <p> <TeamOutlined /> Follow </p>\r\n                                </Button>\r\n                            }\r\n                            <Link onClick={() => this.props.setCurrentRoute('messages')} to={{ pathname: '/messages', state: { user: this.props.match.params.id } }}>\r\n                              <Button type=\"primary\" style={{ marginRight: \"14px\" }}>\r\n                                <SendOutlined /> Message\r\n                        </Button>\r\n                            </Link>\r\n\r\n                          </>\r\n\r\n                        </span>)}\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: \"8px\" }}>\r\n                      <p style={{ fontWeight: 600 }}>\r\n                        <span >{profileDetails?.name} has fed {profileDetails?.noFed} people and made {profileDetails?.noDonations} donations overall!</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/*\r\n              <div>\r\n                <p style={{ fontWeight: 600 }}>User has fed 324 No. of people since last month.</p>\r\n              </div>\r\n              */}\r\n                <Divider style={{ \"background\": \"rgba(151,3,62, 0.2)\" }} />\r\n                <Demo />\r\n\r\n              </Content>\r\n              {user.userId === this.props.match.params.id ?\r\n                <Sider width={300} style={{ padding: \"20px\" }}>\r\n                  {\r\n                    //add title div here \r\n                  }\r\n                  <div style={{ fontWeight: \"bolder\", paddingBottom: \"15px\", paddingTop: \"15px\", fontSize: \"medium\" }}>Pending Donations</div>\r\n\r\n                  <div>\r\n                    {PendingDonationList}\r\n                  </div>\r\n                </Sider>\r\n                : null}\r\n            </Layout>\r\n          </Layout >\r\n\r\n          <Modal\r\n            destroyOnClose\r\n            visible={visibleAccept}\r\n            title=\"Accept Donation\"\r\n            onOk={this.handleOkAccept}\r\n            onCancel={this.handleCancelAccept}\r\n            footer={[\r\n              <Button key=\"back\" onClick={this.handleCancelAccept}>\r\n                cancel\r\n                  </Button>,\r\n              <Button\r\n                key=\"submit\"\r\n                type=\"primary\"\r\n                loading={loadingAccept}\r\n                onClick={this.handleOkAccept}\r\n                form='acceptform'\r\n                htmlType='submit'\r\n              >\r\n                Submit\r\n                  </Button>\r\n            ]}\r\n          >\r\n            <Form\r\n              id='acceptform'\r\n              {...layout}\r\n              name=\"basic\"\r\n              onFinish={onFinish}\r\n              onFinishFailed={onFinishFailed}\r\n            >\r\n              <Form.Item\r\n                label=\"No of people fed ?\"\r\n                name=\"peoplefed\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: 'Please input peoplefed',\r\n                  },\r\n                ]}\r\n              >\r\n                <InputNumber min=\"1\" placeholder=\"No. Fed\" />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                label=\"Rate the User\"\r\n                name=\"rating\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: 'Please rate the user',\r\n                  },\r\n                ]}\r\n              >\r\n                <InputNumber min=\"1\" max=\"5\" placeholder=\"1 to 5\" />\r\n              </Form.Item>\r\n            </Form>\r\n          </Modal>\r\n\r\n          <Modal\r\n            destroyOnClose\r\n            visible={visibleDonation}\r\n            title=\"Rate the Organisation\"\r\n            onOk={this.handleOkDonation}\r\n            onCancel={this.handleCancelDonation}\r\n            footer={[\r\n              <Button key=\"back\" onClick={this.handleCancelDonation}>\r\n                Cancel\r\n                  </Button>,\r\n              <Button\r\n                key=\"submit\"\r\n                type=\"primary\"\r\n                loading={loadingDonation}\r\n                onClick={this.handleOkDonation}\r\n                form='rateform'\r\n                htmlType='submit'\r\n              >\r\n                Submit\r\n                  </Button>\r\n            ]}\r\n          >\r\n            <Form\r\n              id='rateform'\r\n              {...layout}\r\n              name=\"basic\"\r\n              onFinish={onFinishD}\r\n              onFinishFailed={onFinishFailedD}\r\n            >\r\n              <Form.Item\r\n                label=\"Rate the Organisation\"\r\n                name=\"rating\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: 'Please rate the user',\r\n                  },\r\n                ]}\r\n              >\r\n                <InputNumber min=\"1\" max=\"5\" placeholder=\"1 to 5\" />\r\n              </Form.Item>\r\n            </Form>\r\n          </Modal>\r\n\r\n        </Layout >\r\n    )\r\n  };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(state.profileReducer.profileDetails)\r\n  return ({\r\n    suggestedPages: state.profileReducer.suggestedPages,\r\n    currentTab: state.profileReducer.currentTab,\r\n    donations: state.profileReducer.donations,\r\n    timelinePost: state.profileReducer.profileDetails.history,\r\n    posts: state.profileReducer.posts,\r\n    PendingDonations: state.profileReducer.Pending,\r\n    profileDetails: state.profileReducer.profileDetails,\r\n    user: state.authReducer.user,\r\n    followers: state.profileReducer.followers,\r\n    following: state.profileReducer.following\r\n  })\r\n\r\n}\r\n\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  reviewOrg: bindActionCreators(reviewOrg, dispatch),\r\n  addFed: bindActionCreators(addFed, dispatch),\r\n  addHistory: bindActionCreators(addHistory, dispatch),\r\n  acceptdonation: bindActionCreators(acceptdonation, dispatch),\r\n  getSomeData: bindActionCreators(getSomeData, dispatch),\r\n  changeTab: bindActionCreators(changeTab, dispatch),\r\n  getProfile: bindActionCreators(getProfile, dispatch),\r\n  followUser: bindActionCreators(followUser, dispatch),\r\n  unfollowUser: bindActionCreators(unfollowUser, dispatch),\r\n  getFollowers: bindActionCreators(getFollowers, dispatch),\r\n  getFollowing: bindActionCreators(getFollowing, dispatch),\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch),\r\n  rejectDonation: bindActionCreators(rejectDonation, dispatch),\r\n  getPendingDonations: bindActionCreators(getPendingDonations, dispatch),\r\n  editProfile: bindActionCreators(editProfile, dispatch)\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import React, { Component } from \"react\";\r\nimport L from \"leaflet\";\r\nimport * as ELG from \"esri-leaflet-geocoder\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"./styles.css\";\r\nimport { geolocated } from 'react-geolocated';\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css\";\r\nimport \"leaflet/dist/leaflet.js\";\r\nimport \"esri-leaflet-geocoder/dist/esri-leaflet-geocoder.js\";\r\nimport { Modal, Button } from 'antd';\r\n\r\nconst DEFAULT_LATITUDE = 23.2599;\r\nconst DEFUALT_LONGITUDE = 77.4126;\r\n\r\n// import marker icons\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl:\r\n    \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon-2x.png\",\r\n  iconUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon.png\",\r\n  shadowUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-shadow.png\"\r\n});\r\n\r\nclass MapDiscover extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      initialised: false,\r\n      markers: []\r\n    };\r\n  }\r\n\r\n  addMarker = (e) => {\r\n    const { markers } = this.state;\r\n    markers.pop();\r\n    markers.push(e.latlng);\r\n    // this.props.saveLatLng(markers[0]);\r\n\r\n    this.setState({ markers });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const map = this.leafletMap.leafletElement;\r\n    const searchControl = new ELG.Geosearch().addTo(map);\r\n    const results = new L.LayerGroup().addTo(map);\r\n\r\n    searchControl.on(\"results\", function (data) {\r\n      results.clearLayers();\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const longitude = this.props.coords ? this.props.coords.longitude : DEFUALT_LONGITUDE;\r\n    const latitude = this.props.coords ? this.props.coords.latitude : DEFAULT_LATITUDE;\r\n    console.log(this.props);\r\n    const { longitudeP, latitudeP, message } = this.props;\r\n    if (!this.state.initialised && this.props.coords) {\r\n      this.setState({ initialised: true })\r\n      this.addMarker({\r\n        latlng: {\r\n          lat: latitude,\r\n          lng: longitude\r\n        }\r\n      })\r\n    }\r\n\r\n    const center = [23.2599, 77.4126];\r\n    return (\r\n      <>\r\n        <div className=\"MAP\">\r\n          <Map\r\n            style={{ height: \"80vh\" }}\r\n            center={[latitude, longitude]}\r\n            zoom=\"5\"\r\n            ref={(m) => {\r\n              this.leafletMap = m;\r\n            }}\r\n            onClick={this.addMarker}\r\n          >\r\n            <TileLayer\r\n              attribution=\"&copy; <a href='https://osm.org/copyright'>OpenStreetMap</a> contributors\"\r\n              url={\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}\r\n            />\r\n            <div className=\"pointer\" />\r\n\r\n            {\r\n              !this.props.coords\r\n                ? <div className=\"loading\">Loading</div>\r\n                :\r\n                <Marker\r\n                  position={[latitude, longitude]}\r\n                >\r\n                  <Popup>\r\n                    you are here!\r\n            </Popup>\r\n                </Marker>\r\n            }\r\n\r\n            {/* {this.state.markers.map((position, idx) => (\r\n              <Marker draggable={true} key={`marker-${idx}`} position={position}>\r\n                <Popup>\r\n                  <span>Marked Location</span>\r\n                </Popup>\r\n              </Marker>\r\n            ))} */}\r\n            <Marker\r\n              position={[latitudeP, longitudeP]}\r\n            >\r\n              <Popup>\r\n                {message}\r\n              </Popup>\r\n            </Marker>\r\n          </Map>\r\n          {/* <div class=\"container\">\r\n            <div class=\"vertical-center\">\r\n              <button class=\"button\">Done</button>\r\n            </div>\r\n          </div> */}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default geolocated({\r\n  positionOptions: {\r\n    enableHighAccuracy: false\r\n  },\r\n  userDecisionTimeout: 1000\r\n})(MapDiscover);\r\n\r\n\r\n//export default MapComp;\r\n","import { ACTION } from './constants';\r\nimport axios from \"axios\"\r\nexport const changeFilters = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.CHANGE_FILTERS,\r\n        selectedfilters: data,\r\n    });\r\n};\r\nexport const getOrganisation = () => async (dispatch) =>{\r\n    const res = await axios.get('api/users/organisations')\r\n    dispatch({\r\n        type:'GET_ORGANISATION',\r\n        organisations: res.data.organisations\r\n    })\r\n}\r\nexport const getDonation = () => async (dispatch) =>{\r\n    const res = await axios.get('/api/donation/donations');\r\n    dispatch({\r\n        type:'GET_DONATION',\r\n        donations: res.data.donations\r\n    })\r\n}\r\nexport const pendingDonation = (data,date) => async (dispatch,getState) => {\r\n    const userId = getState().authReducer.user.userId\r\n    await axios.post('/api/donation/changeStatus',{_id:data._id,status:'pending',date:date.format(\"HH:mm ll\")})\r\n    dispatch({\r\n        type: 'PENDING_DONATION',\r\n        payload:data,\r\n        date:date,\r\n        userId\r\n    })\r\n}","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\"\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport moment from 'moment';\r\nimport sortBy from 'lodash/sortBy';\r\n\r\nimport './styles.css'\r\nimport MapDiscover from \"../MapDiscover\";\r\n\r\nimport { Modal, Menu, DatePicker, TimePicker, Checkbox, Layout, Card, Button, Input, Space, Image, Form, Avatar, InputNumber } from 'antd';\r\nimport { HomeOutlined, PhoneOutlined, CheckOutlined, CloseOutlined } from '@ant-design/icons';\r\n\r\nimport { pendingDonation, changeFilters, getDonation, getOrganisation } from './action';\r\nimport { addFed, addHistory, rejectDonation, acceptdonation } from '../Profile/action';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport LoadingScreen from '../LoadingScreen';\r\n\r\nconst { Content, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nfunction success(contact) {\r\n  Modal.success({\r\n    title: 'Donor Notified',\r\n    content: 'You can contact Donor on ' + contact\r\n  });\r\n}\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 8,\r\n  },\r\n  wrapperCol: {\r\n    span: 16,\r\n  },\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 8,\r\n    span: 16,\r\n  },\r\n};\r\nclass Discover extends Component {\r\n  state = {\r\n    Organisations: [],\r\n    selectedMenuItem: '1',\r\n    loading: false,\r\n    visible: false,\r\n    filters: [],\r\n    mapOpen: false,\r\n    lngp: 77.2090,\r\n    latp: 28.6139,\r\n    pickupDate: null\r\n  }\r\n  async componentDidMount() {\r\n    this.setState({\r\n      profilePageLoading: true\r\n    })\r\n\r\n    await this.props.getOrganisation();\r\n    this.props.getDonation();\r\n\r\n    this.setState({\r\n      profilePageLoading: false\r\n    })\r\n\r\n  }\r\n  disabledDate = (current) => {\r\n    return current && current < moment().endOf('day');\r\n  }\r\n\r\n  showModal = (data) => {\r\n    this.props.acceptdonation(data)\r\n    this.props.addHistory({\r\n      color: 'green',\r\n      icon: 'dot',\r\n      text: data.title + ' ( Donation accepted on ' + moment().format(\"HH:mm ll\") + ' )'\r\n    });\r\n\r\n    this.setState({\r\n      visible: true,\r\n      acceptdonation: data\r\n    });\r\n  };\r\n\r\n  handleOk = () => {\r\n    this.setState({ loading: true });\r\n    setTimeout(() => {\r\n      this.setState({ loading: false, visible: false });\r\n    }, 1000);\r\n    Modal.success({\r\n      content: \"Donation Shared on profile\"\r\n    });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  disabledDate = (current) => {\r\n    return current && current < moment().endOf('day');\r\n  }\r\n\r\n  render() {\r\n    const { selectedMenuItem, visible, loading, latp, lngp } = this.state;\r\n    const { Organisations, Donations, pendingDonations, pendingDonorDonation } = this.props\r\n\r\n    const plainOptions = [\r\n      { label: 'Location', value: 'Location' },\r\n      { label: 'Expiry Date', value: 'Expiry Date' },\r\n      { label: 'Time', value: 'Time' },\r\n    ];\r\n    const onChange = (checkedValues) => {\r\n      this.setState({\r\n        filters: [...checkedValues]\r\n      })\r\n    }\r\n\r\n    const addpending = (Donation) => {\r\n      console.log(this.state.pickupDate?.format(\"HH:mm DD-MM-YYYY\"));\r\n      const date = this.state.pickupDate;\r\n      console.log(Donation);\r\n      this.props.pendingDonation(Donation, date);\r\n      this.setState({ mapOpen: false })\r\n    }\r\n    const imagelist = (images) => {\r\n      return images.length ? (\r\n        images.map(image => {\r\n          return (\r\n            <Image\r\n              width={100}\r\n              height={100}\r\n              alt=\"example\"\r\n              src={image}\r\n            />\r\n          )\r\n        })\r\n      ) : (<div> No images!</div>)\r\n    }\r\n\r\n    const filteredDonation = (Donations) => {\r\n      const filters = this.state.filters;\r\n      if (filters.find((value => value.localeCompare(\"Time\") === 0))) {\r\n        const filterDonations = sortBy(Donations, (donation) => {\r\n          return new moment(donation.createdAt);\r\n        });\r\n        console.log(filterDonations)\r\n        return filterDonations;\r\n      }\r\n      if (filters.find((value => value.localeCompare(\"Expiry Date\") === 0))) {\r\n        const filterDonations = sortBy(Donations, (donation) => {\r\n          return new moment(donation.expiryTime);\r\n        });\r\n        console.log(filterDonations)\r\n        return filterDonations;\r\n      }\r\n      return Donations\r\n    }\r\n    const action = (Donation) => {\r\n      if (this.props.userType.localeCompare('donor') === 0)\r\n        return [];\r\n      if (this.props.userId == Donation.donorId)\r\n        return [];\r\n\r\n      const value = [\r\n        <Link to={{\r\n          pathname: \"/messages\",\r\n          state: {\r\n            //PUT DONOR_ID\r\n            user: Donation.donorId\r\n          }\r\n        }}>\r\n          <p className=\"text\" onClick={() => { this.props.setCurrentRoute('messages') }} ><b> Contact Donor </b></p>\r\n        </Link>,\r\n        <p className=\"text\" onClick={async () => { console.log(Donation); await this.setState({ currentDonation: Donation, }); this.setState({ mapOpen: true }); }} ><b> Interested </b></p>,\r\n      ]\r\n\r\n      return value;\r\n    }\r\n    const filterDonations = filteredDonation(Donations);\r\n    const DonationList = (Donations).length ? (\r\n      filterDonations.map(Donation => {\r\n        return (\r\n          <Card title={<Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${Donation.donorId}`}>{Donation.donorName}</Link>} extra={<div>{moment(Donation.createdAt).format(\"HH:mm ll\")}</div>} style={{ width: 700, margin: '8px' }}\r\n\r\n            actions={action(Donation)}\r\n          >\r\n            <p>{Donation.description}</p>\r\n            <Space>\r\n              {imagelist(Donation.images)}\r\n            </Space>\r\n\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n    console.log('this is inside the donations', Donations);\r\n    const pendingDonationList = pendingDonations.length ? (\r\n      pendingDonations.map(Donation => {\r\n        return (\r\n          <Card title={Donation.donorName} extra={moment(Donation.createdAt).format(\"ll\")} size=\"small\" style={{ width: 250 }}\r\n\r\n            actions={[\r\n              <p classname=\"cardtext1\" onClick={() => this.showModal(Donation)} ><CheckOutlined hoverable={true} key=\"Accept\" /> Accept </p>,\r\n              <p onClick={() => this.props.rejectDonation(Donation._id)}><CloseOutlined hoverable={true} key=\"Reject\" /> Reject </p>,\r\n            ]}\r\n          >\r\n            <p><p><b>Time Given: </b>{Donation.pickupDate}</p>{Donation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Pending donations are currently there!</div>\r\n      )\r\n    const pendingDonorDonationList = pendingDonorDonation.length ? (\r\n      pendingDonorDonation.map(Donation => {\r\n\r\n        return (\r\n          <Card title={Donation.donorName} extra={moment(Donation.postTime).format(\"HH:mm ll\")} size=\"small\" style={{ width: 250 }}\r\n\r\n          >\r\n            <p>{Donation.description}</p>\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Donations are currently there!</div>\r\n      )\r\n\r\n    const OrganisationList = Organisations.length ? (\r\n      Organisations.map(Organisation => {\r\n        return (\r\n          <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${Organisation._id}`}>\r\n\r\n            <Card title={<div> {\r\n              <Avatar\r\n                src={Organisation.avatar}\r\n                alt=\"Han Solo\"\r\n              />\r\n            } <a>{Organisation.name}</a> </div>} extra={<p>People fed {Organisation?.noFed} </p>} style={{ width: 700, margin: '8px' }}>\r\n              <p><PhoneOutlined /> : {Organisation.contact} <HomeOutlined /> : {Organisation.address} </p>\r\n\r\n              <p>{Organisation.description}</p>\r\n            </Card>\r\n          </Link>\r\n\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Organisation are currently there!</div>\r\n      )\r\n\r\n    const componentsSwitch = (key) => {\r\n      switch (key) {\r\n        case '1':\r\n          return (DonationList);\r\n        case '2':\r\n          return (OrganisationList);\r\n        default:\r\n          return (DonationList);\r\n      }\r\n    }\r\n\r\n    const onclick = (key) => {\r\n      this.setState(\r\n        {\r\n          selectedMenuItem: key,\r\n        }\r\n      )\r\n    }\r\n\r\n    const onFinish = async (values) => {\r\n      await this.props.addFed(values.peoplefed, values.rating, this.state.acceptdonation?.donorId);\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n      console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    return (\r\n      this.state.profilePageLoading ? <LoadingScreen /> :\r\n        <Layout>\r\n          <Sider width={280}\r\n            style={{\r\n              overflow: 'auto',\r\n              height: '100vh',\r\n              position: 'fixed',\r\n              left: 0,\r\n              marginTop: '64px',\r\n\r\n            }} >\r\n            <Menu\r\n              mode=\"inline\"\r\n              defaultSelectedKeys={['1']}\r\n              defaultOpenKeys={['1']}\r\n              style={{ height: '100%', borderRight: 0 }}\r\n              onClick={(e) => onclick(e.key)}\r\n              activeKey={selectedMenuItem}\r\n              style={{ position: \"relative\" }}\r\n            >\r\n              <SubMenu key=\"1\" title=\"\" onTitleClick={(e) => onclick(e.key)} style={{ fontSize: '16px', height: \"100% \" }}>\r\n                <div style={{ \"padding\": \"auto\" }}>\r\n                  <Checkbox.Group options={plainOptions} onChange={onChange} />\r\n                </div>\r\n              </SubMenu>\r\n              <Menu.Item key=\"1\" style={{ position: \"absolute\", zIndex: \"10\", top: 0, left: 0, height: \"40px\", paddingLeft: \"20px\" }}>Donations</Menu.Item>\r\n              <Menu.Item key=\"2\">Nearby Organisations</Menu.Item>\r\n            </Menu>\r\n          </Sider>\r\n\r\n          <Layout style={{ marginLeft: '280px', marginTop: '64px' }}>\r\n            <Content className=\"site-layout-background\"\r\n              style={{\r\n                paddingLeft: 125,\r\n                minHeight: 280,\r\n              }}>\r\n              {componentsSwitch(selectedMenuItem)}\r\n            </Content>\r\n            <Sider width={300} style={{ padding: \"25px\" }}>\r\n              <div style={{ fontWeight: \"bolder\", paddingBottom: \"15px\", fontSize: \"medium\" }}>Pending Donations</div>\r\n              <div>\r\n                {this.props.userType.localeCompare('donor') === 0 ? pendingDonorDonationList : pendingDonationList}\r\n              </div>\r\n            </Sider>\r\n\r\n          </Layout >\r\n\r\n          <Modal\r\n            destroyOnClose\r\n            visible={visible}\r\n            title=\"Accept Donation\"\r\n            onOk={this.handleOk}\r\n            onCancel={this.handleCancel}\r\n            footer={[\r\n              <Button key=\"back\" onClick={this.handleCancel}>\r\n                Say Thanks\r\n              </Button>,\r\n              <Button\r\n                key=\"submit\"\r\n                type=\"primary\"\r\n                loading={loading}\r\n                onClick={this.handleOk}\r\n                form='acceptform'\r\n                htmlType='submit'\r\n              >\r\n                Submit\r\n              </Button>\r\n            ]}\r\n          >\r\n            <Form\r\n              id='acceptform'\r\n              {...layout}\r\n              name=\"basic\"\r\n              onFinish={onFinish}\r\n              onFinishFailed={onFinishFailed}\r\n            >\r\n              <Form.Item\r\n                label=\"No of people fed ?\"\r\n                name=\"peoplefed\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: 'Please input peoplefed',\r\n                  },\r\n                ]}\r\n              >\r\n                <InputNumber min=\"1\" placeholder=\"No. fed\" />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                label=\"Rate the User\"\r\n                name=\"rating\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: 'Please rate the user',\r\n                  },\r\n                ]}\r\n              >\r\n                <InputNumber min=\"1\" max=\"5\" placeholder=\"1 to 5\" />\r\n              </Form.Item>\r\n\r\n            </Form>\r\n          </Modal>\r\n          <Modal footer={[\r\n            <Button onClick={() => addpending(this.state.currentDonation)}>\r\n              Done\r\n            </Button>\r\n          ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n            <MapDiscover latitudeP={this.state.currentDonation?.location.coordinates[1]} longitudeP={this.state.currentDonation?.location.coordinates[0]} message='Pickup Point' />\r\n            <div style={{ marginLeft: \"25vw\" }}>\r\n              <p>\r\n                <br />\r\n                <Space>\r\n                  Enter Pickup Date :\r\n            <DatePicker\r\n                    format=\"YYYY-MM-DD HH:mm:ss\"\r\n                    showTime={{ defaultValue: moment('00:00:00', 'HH:mm:ss') }}\r\n                    disabledDate={this.disabledDate} \r\n                    onChange={value => { console.log(value); this.setState({ pickupDate: value }) }}\r\n                  />\r\n                </Space>\r\n              </p>\r\n            </div>\r\n          </Modal>\r\n        </Layout >\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n  const checkvisibilty = (donation) => {\r\n    return donation.status.localeCompare(\"NotAccepted\") === 0\r\n  }\r\n  const pendingdonations = (donation) => {\r\n    const userId = state.authReducer.user.userId\r\n    return (donation.status.localeCompare(\"pending\") == 0 && donation.receiverId == userId)\r\n  }\r\n  const pendingdonordonations = (donation) => {\r\n    const userId = state.authReducer.user.userId\r\n    return (donation.status.localeCompare(\"pending\") == 0 && donation.donorId == userId)\r\n  }\r\n\r\n  return {\r\n    pendingDonorDonation: state.DiscoverReducer.Donations.filter(pendingdonordonations),\r\n    userType: state.authReducer.user.userType,\r\n    userId: state.authReducer.user.userId,\r\n    currentfilter: state.DiscoverReducer.currentfilter,\r\n    Donations: state.DiscoverReducer.Donations.filter(checkvisibilty),\r\n    pendingDonations: state.DiscoverReducer.Donations.filter(pendingdonations),\r\n    Organisations: state.DiscoverReducer.Organisations,\r\n  };\r\n\r\n};\r\nconst mapDispatchToProps = (dispatch, getState) => ({\r\n  addFed: bindActionCreators(addFed, dispatch),\r\n  addHistory: bindActionCreators(addHistory, dispatch),\r\n  getOrganisation: bindActionCreators(getOrganisation, dispatch),\r\n  acceptdonation: bindActionCreators(acceptdonation, dispatch),\r\n  changeFilters: bindActionCreators(changeFilters, dispatch),\r\n  pendingDonation: bindActionCreators(pendingDonation, dispatch),\r\n  rejectDonation: bindActionCreators(rejectDonation, dispatch),\r\n  getDonation: bindActionCreators(getDonation, dispatch),\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(Discover);","import { ACTION } from './constants';\r\nimport axios from \"axios\"\r\nexport const changeFilters = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.CHANGE_FILTERS,\r\n        selectedfilters: data,\r\n    });\r\n};\r\n\r\nexport const getEvent = (data) => async (dispatch) => {\r\n    const res = await axios.get('/api/event/');\r\n    console.log(res.data);\r\n    dispatch({\r\n        type: 'GET_EVENT',\r\n        payload:res.data.events\r\n    })\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from \"react-router-dom\";\r\nimport { bindActionCreators } from 'redux';\r\nimport moment from 'moment';\r\nimport sortBy from 'lodash/sortBy';\r\n\r\nimport MapDiscover from \"../MapDiscover\";\r\n\r\nimport { Menu, Checkbox, Layout, Modal, Button, Card, Space, Image } from 'antd';\r\nimport { InboxOutlined, CompassOutlined, EnvironmentOutlined } from '@ant-design/icons';\r\nimport { changeFilters, getEvent } from './actions';\r\nimport LoadingScreen from '../LoadingScreen';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\n\r\nconst { Content, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass Community extends Component {\r\n\r\n  state = {\r\n    selectedMenuItem: '1',\r\n    mapOpen: false,\r\n    filters: [],\r\n    lngp: 77.2090,\r\n    latp: 28.6139\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    this.setState({\r\n      profilePageLoading: true\r\n    })\r\n\r\n    await this.props.getEvent();\r\n\r\n    this.setState({\r\n      profilePageLoading: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedMenuItem, latp, lngp } = this.state;\r\n    const { Events } = this.props;\r\n    const plainOptions = [\r\n      { label: 'Location', value: 'Location' },\r\n      { label: 'Date', value: 'Expiry Date' },\r\n      { label: 'Time', value: 'Time' },\r\n    ];\r\n    const onChange = (checkedValues) => {\r\n      this.setState({\r\n        filters: [...checkedValues]\r\n      })\r\n    }\r\n\r\n    const imagelist = (images) => {\r\n      return images.length ? (\r\n        images.map(image => {\r\n          return (\r\n            <Image\r\n              width={100}\r\n              height={100}\r\n              alt=\"example\"\r\n              src={image}\r\n            />\r\n          )\r\n        })\r\n      ) : (<div> No images!</div>)\r\n    }\r\n    const filteredEvent = (Events) => {\r\n      const filters = this.state.filters;\r\n      if (filters.find((value => value.localeCompare(\"Time\") === 0))) {\r\n        const filterDonations = sortBy(Events, (event) => {\r\n          return new moment(event.createdAt);\r\n        });\r\n        console.log(filterDonations)\r\n        return filterDonations;\r\n      }\r\n      if (filters.find((value => value.localeCompare(\"Expiry Date\") === 0))) {\r\n        const filterDonations = sortBy(Events, (event) => {\r\n          return new moment(event.expiryTime);\r\n        });\r\n        console.log(filterDonations)\r\n        return filterDonations;\r\n      }\r\n      return Events\r\n    }\r\n\r\n    const filterEvents = filteredEvent(Events.filter((event) => { return moment(event.expiryTime).isAfter(moment.now()) }));\r\n    const action = (Event) => {\r\n      console.log(\"this is the action center\", this.props.user.userId, 'the event donor id is', Event.donorId);\r\n      if (Event.donorId === this.props.user?.userId)\r\n        return []\r\n\r\n      return ([\r\n        <Link to={{\r\n          pathname: \"/messages\",\r\n          state: {\r\n            //PUT DONOR_ID\r\n            user: Event.donorId\r\n          }\r\n        }}>\r\n          <p className=\"text\" onClick={() => { this.props.setCurrentRoute('messages') }} ><b> Contact Organisor </b></p>\r\n        </Link>\r\n      ])\r\n    }\r\n    const EventList = Events.length ? (\r\n      filterEvents.map(Event => {\r\n        return (\r\n          <Card\r\n            title={<Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${Event.donorId}`}>{Event.title}</Link>}\r\n            extra={<div><p>Event Date : {moment(Event.expiryTime).format(\" HH:mm ll\")}</p></div>}\r\n            style={{ width: 700, margin: '8px' }}\r\n            actions={action(Event)}>\r\n            <a onClick={() => this.setState({ mapOpen: true, currentEvent: Event })} ><EnvironmentOutlined /> Event Location </a>\r\n            <p> Event Details : {Event.description}</p>\r\n            <Space>\r\n              {imagelist(Event.images)}\r\n            </Space>\r\n\r\n          </Card>\r\n        )\r\n      })\r\n    ) : (\r\n        <div>No Events are currently there!</div>\r\n      )\r\n\r\n    return (\r\n      this.state.profilePageLoading ? <LoadingScreen /> :\r\n        <Layout>\r\n          <Sider width={280}\r\n            style={{\r\n              overflow: 'auto', height: '100vh',\r\n              position: 'fixed', left: 0,\r\n              marginTop: '64px',\r\n            }} >\r\n            <Menu\r\n              mode=\"inline\" defaultSelectedKeys={['1']}\r\n              defaultOpenKeys={['1']} style={{ height: '100%', borderRight: 0 }}\r\n              activeKey={selectedMenuItem} style={{ position: \"relative\" }}\r\n            >\r\n              <SubMenu key=\"1\" title=\"Events\" style={{ fontSize: '16px', height: \"100% \" }}>\r\n                <div style={{ \"padding\": \"auto\" }}>\r\n                  <Checkbox.Group options={plainOptions} onChange={onChange} />\r\n                </div>\r\n              </SubMenu>\r\n            </Menu>\r\n          </Sider>\r\n\r\n          <Layout style={{ marginLeft: '280px', marginTop: '64px' }}>\r\n            <Content className=\"site-layout-background\"\r\n              style={{ paddingLeft: 125, minHeight: 280 }}>\r\n              {EventList}\r\n            </Content>\r\n            <Sider width={300} style={{ padding: \"25px\" }}> </Sider>\r\n\r\n          </Layout >\r\n          <Modal footer={[\r\n            <Button onClick={() => this.setState({ mapOpen: false })}>\r\n              Return\r\n            </Button>\r\n          ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n            <MapDiscover latitudeP={this.state.currentEvent?.location.coordinates[1]} longitudeP={this.state.currentEvent?.location.coordinates[0]} message='Event Location' />\r\n          </Modal>\r\n\r\n\r\n        </Layout >\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStatetoProps = state => {\r\n  return {\r\n    currentfilter: state.CommunityReducer.currentfilter,\r\n    Events: state.CommunityReducer.Events,\r\n    user: state.authReducer.user,\r\n  };\r\n\r\n};\r\nconst mapDispatchToProps = (dispatch, getState) => ({\r\n  getEvent: bindActionCreators(getEvent, dispatch),\r\n  changeFilters: bindActionCreators(changeFilters, dispatch),\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch)\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(Community);","import { ACTION } from './constants';\r\nimport axios from \"axios\"\r\nexport const changeFilters = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: ACTION.CHANGE_FILTERS,\r\n        selectedfilters: data,\r\n    });\r\n};\r\nexport const getList = () => async (dispatch) => {\r\n    const  res = await axios.get('/api/users/leaderboard');\r\n    console.log(res.data);\r\n    dispatch({\r\n        type:'GET_LIST',\r\n        payload: res.data.list\r\n    })\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Menu, Checkbox, Layout, Carousel, Table, Tag, Image, Radio } from 'antd';\r\n\r\nimport { changeFilters, getList } from './actions';\r\nimport { setCurrentRoute } from '../Navbar/actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { Content, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst contentStyle = {\r\n  height: '200px',\r\n  color: '#fff',\r\n  lineHeight: '30px',\r\n  textAlign: 'center',\r\n  background: '#364d79',\r\n  fontSize: '20px'\r\n};\r\n\r\n\r\n\r\n\r\nclass Leaderboard extends Component {\r\n  state = {\r\n    selectedMenuItem: '1',\r\n    valueF: '1',\r\n    filters: []\r\n  }\r\n  columns = [\r\n    {\r\n      title: \"Rank\",\r\n      dataIndex: \"rank\",\r\n      key: \"rank\",\r\n      render: text => <p>{text}</p>\r\n    },\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      render: (text, user) => <Link onClick={() => this.props.setCurrentRoute('profile')} to={`/profile/${user.id}`}>{text}</Link>\r\n    },\r\n    {\r\n      title: 'Type',\r\n      key: 'tags',\r\n      dataIndex: 'tags',\r\n      render: tags => (\r\n        <>\r\n          {tags.map(tag => {\r\n            let color = tag.length > 5 ? 'geekblue' : 'green';\r\n            if (tag === 'loser') {\r\n              color = 'volcano';\r\n            }\r\n            return (\r\n              <Tag color={color} key={tag}>\r\n                {tag.toUpperCase()}\r\n              </Tag>\r\n            );\r\n          })}\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"People Fed\",\r\n      dataIndex: \"peoplefed\",\r\n      key: \"peoplefed\"\r\n    },\r\n    {\r\n      title: \"Rating\",\r\n      dataIndex: \"rating\",\r\n      key: \"rating\"\r\n    }\r\n  ];\r\n\r\n  onChangeF = e => {\r\n    console.log('radio checked', e.target.value);\r\n    this.setState({\r\n      valueF: e.target.value,\r\n    });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    await this.props.getList();\r\n  }\r\n  modified = (data) => {\r\n\r\n    let count = 1;\r\n    return data.map(element => {\r\n      return ({\r\n        rank: count,\r\n        key: count++,\r\n        name: element.name,\r\n        rating: element.rating,\r\n        peoplefed: element.noFed,\r\n        type: element.userType,\r\n        tags: [element.userType],\r\n        id: element._id\r\n      })\r\n    });\r\n  }\r\n  render() {\r\n\r\n    let { data } = this.props;\r\n    const leaders = data;\r\n    console.log(data);\r\n    data = this.modified(data);\r\n    const { selectedMenuItem, valueF } = this.state;\r\n\r\n    console.log(leaders[0]);\r\n\r\n    const radioStyle = {\r\n      display: 'block',\r\n      height: '30px',\r\n      lineHeight: '30px',\r\n      marginLeft: '30px',\r\n    };\r\n\r\n    return (\r\n      <Layout>\r\n        <Sider width={280}\r\n          style={{\r\n            overflow: 'auto',\r\n            height: '100vh',\r\n            position: 'fixed',\r\n            left: 0,\r\n            marginTop: '64px',\r\n          }} >\r\n          <Menu\r\n            mode=\"inline\" defaultSelectedKeys={['1']} defaultOpenKeys={['1']}\r\n            style={{ height: '100%', borderRight: 0 }} activeKey={selectedMenuItem}\r\n            style={{ position: \"relative\" }} >\r\n            \r\n          </Menu>\r\n        </Sider>\r\n\r\n        <Layout style={{ marginLeft: '280px', marginTop: '64px' }}>\r\n          <Content className=\"site-layout-background\"\r\n            style={{\r\n              paddingLeft: 125,\r\n              minHeight: 280,\r\n            }}>\r\n            <div style={{\r\n              width: 700,\r\n              marginTop: '20px'\r\n            }}>\r\n              <Carousel autoplay>\r\n                <div> <div style={contentStyle}>\r\n                  <span style={{ float: \"right\", marginTop: \"25px\", marginRight: \"15px\" }}>\r\n                    <Image\r\n                      width={170}\r\n                      src=\"images\\leaderboard\\leaderboard.png\"\r\n                    />\r\n                  </span>\r\n                  <p style={{ paddingTop: \"30px\", fontSize: \"60px\" }}>Leaderboard</p> <p> a look at our top contributors!</p></div>\r\n                </div>\r\n\r\n                <div> <div style={contentStyle}>\r\n                  <span style={{ float: \"right\", marginTop: \"25px\", marginRight: \"15px\" }}>\r\n                    <Image\r\n                      width={170}\r\n                      src={leaders[0]?.profilePic}\r\n                    />\r\n                  </span>\r\n                  <p style={{ paddingTop: \"30px\", fontSize: \"30px\" }}>1. {leaders[0]?.name} </p> <p> fed {leaders[0]?.noFed} people</p></div>\r\n                </div>\r\n                <div> <div style={contentStyle}>\r\n                  <span style={{ float: \"right\", marginTop: \"25px\", marginRight: \"15px\" }}>\r\n                    <Image\r\n                      width={170}\r\n                      src={leaders[1]?.profilePic}\r\n                    />\r\n                  </span>\r\n                  <p style={{ paddingTop: \"30px\", fontSize: \"30px\" }}>2. {leaders[1]?.name}</p> <p> fed {leaders[1]?.noFed} people</p></div>\r\n                </div>\r\n\r\n                <div> <div style={contentStyle}>\r\n                  <span style={{ float: \"right\", marginTop: \"25px\", marginRight: \"15px\" }}>\r\n                    <Image\r\n                      width={170}\r\n                      src={leaders[2]?.profilePic}\r\n                    />\r\n                  </span>\r\n                  <p style={{ paddingTop: \"30px\", fontSize: \"30px\" }}>3. {leaders[2]?.name}</p> <p> fed {leaders[2]?.noFed} people</p></div>\r\n                </div>\r\n\r\n              </Carousel>\r\n            </div>\r\n\r\n            <div style={{ width: 700 }}>\r\n              <Table columns={this.columns} dataSource={data} />\r\n            </div>\r\n\r\n          </Content>\r\n          <Sider width={300} style={{ padding: \"25px\" }}>\r\n          </Sider>\r\n\r\n        </Layout >\r\n      </Layout >\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStatetoProps = state => {\r\n  return {\r\n    currentfilter: state.LeaderboardReducer.currentfilter,\r\n    data: state.LeaderboardReducer.list\r\n  };\r\n\r\n};\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setCurrentRoute: bindActionCreators(setCurrentRoute, dispatch),\r\n  getList: bindActionCreators(getList, dispatch),\r\n  changeFilters: bindActionCreators(changeFilters, dispatch),\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(Leaderboard);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PrivateRoute = ({ component: Component, auth, my, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            auth.isAuthenticated === true ? my === true ? <Component key=\"my\" {...props} /> :\r\n                <Component key={Math.random()} {...props} />\r\n                : (\r\n                    <Redirect to=\"/login\" />\r\n                )\r\n        }\r\n    />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"./action\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Form, Input, Button, notification, Upload, message, Radio } from 'antd';\r\nimport { MailOutlined, LockOutlined, UserOutlined, PhoneOutlined, UploadOutlined, CompassOutlined } from '@ant-design/icons';\r\nimport MapComp from \"../MapComp\";\r\nimport axios from \"axios\"\r\nimport Modal from \"antd/lib/modal/Modal\";\r\n\r\n// import \r\n\r\nconst props = {\r\n    name: 'file',\r\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n    headers: {\r\n        authorization: 'authorization-text',\r\n    },\r\n    onChange(info) {\r\n        if (info.file.status !== 'uploading') {\r\n            console.log(info.file, info.fileList);\r\n        }\r\n        if (info.file.status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully`);\r\n        } else if (info.file.status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n        }\r\n    },\r\n};\r\n\r\n\r\nclass Register extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            errors: {},\r\n            value: 1,\r\n            mapOpen: false,\r\n            latlng: null,\r\n            certificates: [],\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    onChange = e => {\r\n        console.log('radio checked', e.target.value);\r\n        this.setState({\r\n            value: e.target.value,\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    openNotificationWithIcon = (type, message) => {\r\n        notification[type]({\r\n            message: message\r\n        });\r\n    };\r\n    onSubmit = async values => {\r\n        console.log(values)\r\n        if (values.password != values.password2)\r\n            this.openNotificationWithIcon('warning', 'Passwords are not matching')\r\n        else if (!this.state.latlng)\r\n            this.openNotificationWithIcon('warning', 'Please enter your location')\r\n        else if (values.userType == \"organisation\" && this.state.certificates.length == 0) {\r\n            this.openNotificationWithIcon('warning', 'Please upload the certificates')\r\n        }\r\n        else {\r\n            console.log(\"everythhing okay\", { ...values, location: this.state.latlng })\r\n            console.log(this.state.certificates, values.userType)\r\n            this.setState({\r\n                loading: true\r\n            })\r\n            await this.props.registerUser({ ...values, certificates: this.state.certificates, location: { type: \"Point\", coordinates: [this.state.latlng.lng, this.state.latlng.lat] } }, this.props.history);\r\n            this.setState({\r\n                loading: false\r\n            })\r\n        }\r\n\r\n    };\r\n\r\n    saveLatLng = (latlng) => {\r\n        this.setState({\r\n            latlng: latlng\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const radioStyle = {\r\n            display: 'block',\r\n            height: '30px',\r\n            lineHeight: '30px',\r\n        };\r\n\r\n        const { errors, value } = this.state;\r\n\r\n        return (\r\n            <div style={{ paddingTop: \"20px\", display: \"flex\", justifyContent: \"center\" }}>\r\n                <Form\r\n                    layout=\"vertical\"\r\n                    style={{\r\n                        width: \"500px\"\r\n                    }}\r\n                    onFinish={this.onSubmit}\r\n                >\r\n                    <Form.Item\r\n                        label=\"Name\"\r\n                        name=\"name\"\r\n                        rules={[{ required: true, message: 'Please input your name!' }]}\r\n                    >\r\n                        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[{\r\n                            type: 'email',\r\n                            message: 'The input is not valid E-mail!',\r\n                        }, { required: true, message: 'Please input your email!' }]}\r\n                    >\r\n                        <Input prefix={<MailOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[{ required: true, message: 'Please input your password!' }]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"Confirm Password\"\r\n                        name=\"password2\"\r\n                        rules={[{ required: true, message: 'Please input your password!' }]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                    </Form.Item>\r\n                    <Input placeholder=\"Location\" disabled value={this.state.latlng ? this.state.latlng.lat + \" , \" + this.state.latlng.lng : \"\"} style={{ width: 300, marginBottom: \"10px\" }} />\r\n\r\n                    <Button onClick={() => this.setState({ mapOpen: true })} icon={<CompassOutlined />} /> <br />\r\n                    <Form.Item\r\n                        label=\"Contact\"\r\n                        name=\"contact\"\r\n\r\n                        rules={[{ required: true, message: 'Please input your contact!' }]}\r\n                    >\r\n                        <Input prefix={<PhoneOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Address\"\r\n                        name=\"address\"\r\n\r\n                        rules={[{ required: true, message: 'Please input your address!' }]}\r\n                    >\r\n                        <Input.TextArea />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Description\"\r\n                        name=\"description\"\r\n\r\n                        rules={[{ required: true, message: 'Please input a brief description!' }]}\r\n                    >\r\n                        <Input.TextArea />\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Choose User type\"\r\n                        name=\"userType\"\r\n\r\n                        rules={[{ required: true, message: 'Please Choose user type' }]}\r\n                    >\r\n                        <Radio.Group onChange={this.onChange} value={value}>\r\n                            <Radio style={radioStyle} value={\"donor\"}>\r\n                                Donor\r\n                            </Radio>\r\n                            <Radio style={radioStyle} value={\"organisation\"}>\r\n                                Organisation\r\n                            <br />\r\n                                {value === \"organisation\"\r\n                                    ? <div style={{ marginLeft: 25 }}>\r\n\r\n                                        <Upload multiple={false} name=\"file\" accept=\"application/pdf\"\r\n                                            customRequest={async ({ file, onSuccess, onError }) => {\r\n                                                let formData = new FormData()\r\n                                                formData.append('file', file)\r\n                                                await axios.post('/upload/certificates', formData).then(res => {\r\n                                                    this.setState({ certificates: [...this.state.certificates, res.data.location] })\r\n                                                    onSuccess(res.data)\r\n                                                }).catch(err => {\r\n                                                    console.log(\"error in uploading\");\r\n                                                    onError(\"Error in uploading. Try again\")\r\n                                                }\r\n                                                )\r\n                                            }}\r\n\r\n                                            onRemove={(file) => {\r\n                                                let removedLocation = file.response.location;\r\n                                                let newCertificates = this.state.certificates.filter(certificate => certificate != removedLocation)\r\n                                                this.setState({ certificates: newCertificates })\r\n                                            }}\r\n\r\n                                        >\r\n                                            <p>Please upload Government issued certificate for your Organisation(in pdf format)</p>\r\n                                            <Button icon={<UploadOutlined />}>Upload certificates</Button>\r\n                                        </Upload>\r\n                                    </div>\r\n                                    : null}\r\n                            </Radio>\r\n                        </Radio.Group>\r\n\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            Register\r\n                        </Button>\r\n                        {\" \"}Or <Link to=\"/login\">Login now!</Link>\r\n                    </Form.Item>\r\n                </Form>\r\n                <Modal footer={[\r\n                    <Button onClick={() => this.setState({ mapOpen: false })}>\r\n                        Return\r\n            </Button>\r\n                ]} centered closable={false} width={\"90vw\"} visible={this.state.mapOpen}>\r\n                    <MapComp saveLatLng={this.saveLatLng} />\r\n                </Modal>\r\n\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        )\r\n\r\n    }\r\n}\r\n\r\nRegister.propTypes = {\r\n    registerUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer,\r\n    errors: state.authReducer.errors\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    registerUser: bindActionCreators(registerUser, dispatch)\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(withRouter(Register));\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"./action\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Form, Input, Button } from 'antd';\r\nimport { MailOutlined, LockOutlined, HeartFilled } from '@ant-design/icons';\r\n\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            errors: {},\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    onSubmit = async values => {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        await this.props.loginUser(values);\r\n        this.setState({\r\n            loading: false\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <div style={{ paddingTop: \"200px\", paddingLeft: \"100px\" ,height: \"100vh\", justifyContent: \"center\", float: \"left\" }}>\r\n                    <span style={{fontSize: \"70px\", color: \"#97033e\", marginLeft: \"32px\"}}>\r\n                    <HeartFilled />nofoodWasted\r\n                    </span>\r\n                    <p style={{fontSize: \"16px\"}}>\r\n                        nofoodWasted is a community-led initiative to help bring about zero hunger. Join now!\r\n                    </p>\r\n                    \r\n                </div>\r\n                <div style={{ paddingTop: \"200px\", paddingRight: \"100px\" ,height: \"100vh\", justifyContent: \"center\", float: \"right\" }}>\r\n                    <Form\r\n                        layout=\"vertical\"\r\n                        style={{\r\n                            width: \"500px\"\r\n                        }}\r\n                        onFinish={this.onSubmit}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Email\"\r\n                            name=\"email\"\r\n                            rules={[{\r\n                                type: 'email',\r\n                                message: 'The input is not valid E-mail!',\r\n                            }, { required: true, message: 'Please input your email!' }]}\r\n                        >\r\n                            <Input prefix={<MailOutlined className=\"site-form-item-icon\" />} />\r\n\r\n                        </Form.Item>\r\n\r\n\r\n                        <Form.Item\r\n                            label=\"Password\"\r\n                            name=\"password\"\r\n                            rules={[{ required: true, message: 'Please input your password!' }]}\r\n                        >\r\n                            <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button loading={this.state.loading} type=\"primary\" htmlType=\"submit\">\r\n                                Log in\r\n                            </Button>\r\n                            {\" \"}Or <Link to=\"/register\">Register now!</Link>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer,\r\n    errors: state.authReducer.errors\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    loginUser: bindActionCreators(loginUser, dispatch)\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Login);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button } from \"antd\";\r\n\r\nclass Landing extends Component {\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{ height: \"100vh\" }}>\r\n\r\n                <div style={{ marginTop: \"40vh\", display: \"flex\", justifyContent: \"center\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n\r\n                    <p>WELCOME</p>\r\n                    <div style={{ display: \"flex\" }}>\r\n                        <Button type=\"primary\"><Link to=\"/login\">LOGIN</Link></Button>\r\n                        <Button style={{ marginLeft: \"8px\" }}><Link to=\"/register\">REGISTER</Link></Button>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.authReducer\r\n});\r\n\r\nexport default connect(mapStateToProps)(Landing)\r\n","import React from 'react'\r\n\r\nconst ComingSoon = () => {\r\n    return (\r\n        <div style={{ height: \"100vh\", paddingTop: \"40vh\", fontSize: \"30px\", textAlign: \"center\" }}>\r\n            Coming Soon!\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ComingSoon\r\n","import React from \"react\";\r\nimport moment from 'moment';\r\nimport { Comment, Tooltip, Avatar, Image } from 'antd';\r\n\r\nfunction MessageCard({ message, currentUser, you }) {\r\n    const { sender, time, body, type } = message\r\n    return (\r\n        <div style={{ width: '100%' , paddingLeft: '10px'}}>\r\n            <Comment\r\n                author={sender === you?._id ? you.name : currentUser.name}\r\n                avatar={\r\n                    <Avatar\r\n                        src={sender === you?._id ? you.avatar : currentUser.avatar}\r\n                        alt={sender === you?._id ? you.name : currentUser.name}\r\n                    />\r\n                }\r\n                content={\r\n                    type === \"image\" ?\r\n                        <Image\r\n                            width={200}\r\n                            src={body}\r\n                            alt=\"image\"\r\n                        />\r\n                        :\r\n                        <p>\r\n                            {body}\r\n                        </p>\r\n                }\r\n                datetime={\r\n                    <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n                        <span>{moment(time).fromNow()}</span>\r\n                    </Tooltip>\r\n                }\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageCard;\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\nimport Dropzone from 'react-dropzone';\r\nimport axios from 'axios';\r\n\r\nimport { Form, Input, Button, Row, Col, Layout, List, Avatar, notification } from 'antd';\r\nimport { MessageOutlined, UploadOutlined, SendOutlined } from '@ant-design/icons';\r\nimport './styles.css'\r\n\r\nimport LoadingScreen from '../LoadingScreen';\r\nimport { getThreads, startThread, sendMessage, updateThread } from \"./actions\"\r\nimport MessageCard from \"./MessageCard\"\r\n\r\nconst { Content, Sider } = Layout;\r\n\r\nexport class Messagepage extends Component {\r\n    state = {\r\n        chatMessage: \"\",\r\n        currentThread: {},\r\n        currentUser: {},\r\n        you: {},\r\n        requiredUser: null,\r\n        loading: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n\r\n        if (this.props.location.state) {\r\n            this.setState({ requiredUser: this.props.location.state.user })\r\n        }\r\n\r\n        await this.props.getThreads();\r\n        this.setState({\r\n            loading: false\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.messagesEnd)\r\n            this.messagesEnd.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n\r\n    openNotificationWithIcon = (type, message) => {\r\n        notification[type]({\r\n            message: message\r\n        });\r\n    };\r\n\r\n    hanleSearchChange = (e) => {\r\n        this.setState({\r\n            chatMessage: e.target.value\r\n        })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const currentThreadId = this.state.currentThread?._id;\r\n        if (currentThreadId) {\r\n            const req = nextProps.threads.find(x => x._id == currentThreadId);\r\n            if (req)\r\n                this.setState({ currentThread: req })\r\n        }\r\n        else if (this.state.requiredUser) {\r\n\r\n\r\n            const req = nextProps.threads.find(thread => {\r\n                if (thread?.members.find(m => m._id == this.state.requiredUser)) {\r\n                    return true;\r\n                }\r\n\r\n                return false\r\n            })\r\n            if (req) {\r\n                const member = req.members.find(x => x._id != this.props.user.userId)\r\n                const you = req.members.find(x => x._id == this.props.user.userId)\r\n                this.setState({ currentThread: req, requiredUser: null, currentUser: member, you: you })\r\n            } else {\r\n                this.props.startThread(this.state.requiredUser)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    renderCards = () => {\r\n        return (\r\n            this.state.currentThread.messages\r\n            && this.state.currentThread.messages.map((message) => (\r\n                <MessageCard\r\n                    key={message._id}\r\n                    message={message}\r\n                    currentUser={this.state.currentUser}\r\n                    you={this.state.you}\r\n                />\r\n            )))\r\n    }\r\n\r\n    onDrop = (files) => {\r\n        console.log(files)\r\n\r\n\r\n        let formData = new FormData;\r\n\r\n        const config = {\r\n            header: { 'content-type': 'multipart/form-data' }\r\n        }\r\n\r\n        formData.append(\"file\", files[0])\r\n\r\n        axios.post('upload/messages', formData, config)\r\n            .then(res => {\r\n                if (res.data.success) {\r\n                    let chatMessage = res.data.location;\r\n                    let receiverID = this.state.currentThread?._id;\r\n                    if (receiverID) {\r\n                        this.props.sendMessage(receiverID, chatMessage, \"image\")\r\n                    } else {\r\n                        this.openNotificationWithIcon(\"warning\", \"Please select a user to send the message\")\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    submitChatMessage = (e) => {\r\n        e.preventDefault();\r\n        let chatMessage = this.state.chatMessage\r\n        let receiverID = this.state.currentThread?._id;\r\n        if (receiverID) {\r\n            this.props.sendMessage(receiverID, chatMessage, \"text\")\r\n            this.setState({ chatMessage: \"\" })\r\n        } else {\r\n            this.openNotificationWithIcon(\"warning\", \"Please select a user to send the message\")\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment >\r\n                {this.state.loading ? <LoadingScreen /> :\r\n                    <Layout style={{ height: \"100vh\", paddingTop: \"84px\", margin: \"auto\" }}>\r\n                        <Layout style={{}}>\r\n\r\n                            <Sider width={300} className=\"site-layout-background\">\r\n                                <List\r\n                                    style={{ paddingLeft: \"10px\" }}\r\n                                    itemLayout=\"horizontal\"\r\n                                    dataSource={this.props.threads}\r\n                                    renderItem={item => {\r\n                                        const member = item.members.find(x => x._id != this.props.user.userId)\r\n                                        const you = item.members.find(x => x._id == this.props.user.userId)\r\n                                        return (\r\n                                            <List.Item style={this.state.currentThread._id == item._id ? { background: \"#FFF\", border: \"1px solid #DDD\", cursor: \"pointer\", padding: \"4px 8px\" } : { cursor: \"pointer\", padding: \"4px 8px\" }} key={item._id} onClick={() => this.setState({ currentThread: item, currentUser: member, you: you })}>\r\n                                                <List.Item.Meta\r\n                                                    avatar={<Avatar src={member.avatar} />}\r\n                                                    title={member.name}\r\n                                                    description={item.messages.length ? item.messages[item.messages.length - 1].type == \"text\" ? item.messages[item.messages.length - 1].body : \"Image\" : \"\"}\r\n                                                //OR LAST MESSAGE\r\n                                                />\r\n                                            </List.Item>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                            </Sider>\r\n                            <Layout style={{ width: \"60vw\", padding: \"0 24px 24px\" }}>\r\n                                <Content\r\n                                    style={{\r\n                                        //padding: 24,\r\n                                        margin: 0,\r\n                                    }}\r\n                                >\r\n                                    <div class=\"site-layout-background\" style={{ paddingLeft: '0px', maxWidth: '860px' }}>\r\n                                        <div className=\"infinite-container\" style={{ height: '570px', overflowY: 'scroll' }}>\r\n                                            {this.state.currentThread && (\r\n                                                this.renderCards()\r\n                                            )}\r\n                                            <div\r\n                                                ref={el => {\r\n                                                    this.messagesEnd = el;\r\n                                                }}\r\n                                                style={{ float: \"left\", clear: \"both\", paddingLeft: '30px' }}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <Row gutter={12}>\r\n                                            <Form style={{ width: \"100%\", marginTop: \"10px\", marginBottom: '12px', marginLeft: '10px' }} layout=\"inline\" onSubmit={this.submitChatMessage}>\r\n                                                <Col span={18}>\r\n                                                    <Input\r\n                                                        id=\"message\"\r\n                                                        prefix={<MessageOutlined />\r\n                                                            // <Icon type=\"message\" style={{ color: 'rgba(0,0,0,.25)' }} />\r\n                                                        }\r\n                                                        placeholder=\"Let's start talking\"\r\n                                                        type=\"text\"\r\n                                                        value={this.state.chatMessage}\r\n                                                        onChange={this.hanleSearchChange}\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col span={2}>\r\n                                                    <Dropzone onDrop={this.onDrop}>\r\n                                                        {({ getRootProps, getInputProps }) => (\r\n                                                            <section>\r\n                                                                <div {...getRootProps()}>\r\n                                                                    <input {...getInputProps()} />\r\n                                                                    <Button style={{ width: '100%' }}>\r\n                                                                        <UploadOutlined />\r\n                                                                    </Button>\r\n                                                                </div>\r\n                                                            </section>\r\n                                                        )}\r\n                                                    </Dropzone>\r\n                                                </Col>\r\n\r\n                                                <Col span={3}>\r\n                                                    <Button type=\"primary\" style={{ width: '100%' }} onClick={this.submitChatMessage} htmlType=\"submit\">\r\n                                                        {/* <Icon type=\"enter\" /> */}\r\n                                                        <SendOutlined />\r\n                                                    </Button>\r\n                                                </Col>\r\n                                            </Form>\r\n                                        </Row>\r\n                                    </div>\r\n                                </Content>\r\n                            </Layout>\r\n                        </Layout>\r\n                    </Layout>\r\n                }\r\n\r\n\r\n\r\n            </React.Fragment >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        threads: state.messageReducer.threads,\r\n        user: state.authReducer.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    getThreads: bindActionCreators(getThreads, dispatch),\r\n    startThread: bindActionCreators(startThread, dispatch),\r\n    sendMessage: bindActionCreators(sendMessage, dispatch),\r\n    updateThread: bindActionCreators(updateThread, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Messagepage);\r\n","import React, { useEffect } from 'react';\r\nimport { Route, Switch as RouterSwitch } from \"react-router-dom\";\r\nimport \"./App.less\"\r\n//IMPORT COMPONENTS\r\nimport Home from \"./components/Home\";\r\nimport Navbar from './components/Navbar';\r\nimport Profile from './components/Profile';\r\nimport Discover from './components/Discover';\r\nimport Community from './components/Community';\r\nimport Leaderboard from './components/Leaderboard';\r\n\r\nimport { Layout, Button, notification } from 'antd';\r\n// import { useThemeSwitcher } from 'react-css-theme-switcher';\r\n\r\nimport { FireFilled } from \"@ant-design/icons\"\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"./utils/setAuthToken\"\r\n\r\nimport PrivateRoute from \"./components/Auth/PrivateRoute\"\r\n\r\nimport Register from \"./components/Auth/Register\"\r\nimport Login from \"./components/Auth/Login\"\r\nimport Landing from \"./components/Landing\"\r\n\r\nimport { setCurrentUser, logoutUser, clearErrors } from './components/Auth/action';\r\nimport { store } from \"./store\"\r\nimport ComingSoon from './components/ComingSoon';\r\nimport Messages from './components/messages';\r\nimport { startConnection } from './utils/common';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { setCurrentRoute } from './components/Navbar/actions';\r\n\r\n\r\n\r\n// Check for token to keep user logged in\r\nif (localStorage.jwtToken) {\r\n  // Set auth token header auth\r\n  const token = localStorage.jwtToken;\r\n  setAuthToken(token);\r\n  // Decode token and get user info and exp\r\n  const decoded = jwt_decode(token);\r\n  // Set user and isAuthenticated\r\n  store.dispatch(setCurrentUser(decoded));\r\n  console.log(\"the main guyYYY\")\r\n  // Check for expired token\r\n  const currentTime = Date.now() / 1000; // to get in milliseconds\r\n  if (decoded.exp < currentTime) {\r\n    // Logout user\r\n    store.dispatch(logoutUser());\r\n\r\n    // Redirect to login\r\n    window.location.href = \"./login\";\r\n  }\r\n\r\n\r\n  //START SOCKET HERE..................\r\n  store.dispatch(setCurrentRoute('home'))\r\n  startConnection()\r\n\r\n\r\n}\r\n\r\nconst App = (props) => {\r\n\r\n  // const [isDarkMode, setIsDarkMode] = React.useState();\r\n  // const { switcher, status, themes } = useThemeSwitcher();\r\n\r\n  // const toggleTheme = (isChecked) => {\r\n  //   setIsDarkMode(isChecked);\r\n  //   switcher({ theme: isChecked ? themes.dark : themes.light });\r\n  // };\r\n\r\n  const openNotificationWithIcon = (type, message) => {\r\n    notification[type]({\r\n      message: message\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.errors?.message) {\r\n      openNotificationWithIcon(\"error\", props.errors.message)\r\n      props.clearErrors()\r\n    }\r\n  }, [props.errors])\r\n\r\n\r\n  // Avoid theme change flicker\r\n  // if (status === \"loading\") {\r\n  //   return null;\r\n  // }\r\n\r\n\r\n  return (\r\n    <Layout>\r\n      <Navbar />\r\n\r\n      <RouterSwitch>\r\n        <Route exact path='/' component={Landing} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n\r\n        <RouterSwitch>\r\n          <PrivateRoute exact path='/home' component={Home} />\r\n          <PrivateRoute exact path='/i/profile/:id' component={Profile} my={true} />\r\n          <PrivateRoute exact path='/profile/:id' component={Profile} />\r\n          <PrivateRoute exact path=\"/discover\" component={Discover} />\r\n          <PrivateRoute exact path=\"/messages\" component={Messages} />\r\n          <PrivateRoute exact path=\"/community\" component={Community} />\r\n          <PrivateRoute exact path=\"/leaderboard\" component={Leaderboard} />\r\n          <Route path=\"/\" component={ComingSoon} />\r\n        </RouterSwitch>\r\n        {/* <Route path='/discover' component={Discover} /> */}\r\n        {/*Put remaining routes here*/}\r\n      </RouterSwitch>\r\n\r\n      {/* <Button shape=\"circle\" size=\"large\" icon={\r\n        // <FireTwoTone twoToneColor={isDarkMode?\"yellow\":\"black\"} \r\n        <FireFilled style={isDarkMode ? { \"color\": \"#F0C315\" } : { \"color\": \"#444\" }} />} style={{ \"position\": \"fixed\", \"right\": \"16px\", \"bottom\": \"16px\" }} onClick={() => toggleTheme(!isDarkMode)}></Button> */}\r\n\r\n    </Layout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  errors: state.authReducer.errors\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  clearErrors: bindActionCreators(clearErrors, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { store, persistor } from \"./store\"\r\n\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\nimport { ThemeSwitcherProvider } from \"react-css-theme-switcher\";\r\n\r\nconst themes = {\r\n  // dark: `${process.env.PUBLIC_URL}/dark-theme.css`,\r\n  light: `${process.env.PUBLIC_URL}/light-theme.css`,\r\n};\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <PersistGate persistor={persistor}>\r\n        {/* <React.StrictMode> */}\r\n        {/* <ThemeSwitcherProvider themeMap={themes} defaultTheme=\"light\"> */}\r\n        <App />\r\n        {/* </ThemeSwitcherProvider> */}\r\n        {/* </React.StrictMode> */}\r\n      </PersistGate>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}